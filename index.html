<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Presentation</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
    <style>
        :root {
            --bg-color: #f0f0f0;
            --pane-bg-left: #e9e9e9;
            --pane-bg-right: #e9e9e9;
            --main-text-color: #333;
            --sub-text-color: #555;
            --accent-color: #007bff;
            --hover-bg: #dcdcdc;
            --font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            margin: 0;
            overflow: hidden;
            background-color: var(--bg-color);
            font-family: var(--font-family);
            color: var(--main-text-color);
        }

        #background-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: -1;
            overflow: hidden;
        }

        #background-container canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

        .presentation-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            grid-template-rows: 2fr 1fr;
            grid-template-areas:
                "left top-right"
                "left .";
            height: 100vh;
            gap: 20px;
            padding: 20px;
            box-sizing: border-box;
        }

        .pane {
            background-color: rgba(233, 233, 233, 0.5);
            backdrop-filter: blur(5px);
            border-radius: 10px;
            padding: 25px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        #left-pane {
            grid-area: left;
            display: flex;
            flex-direction: column;
        }

        #left-pane h1 {
            margin-top: 0;
            color: var(--main-text-color);
            border-bottom: 2px solid var(--accent-color);
            padding-bottom: 15px;
        }
        
        #left-pane .scrollable-content {
            overflow-y: auto;
            flex-grow: 1;
            position: relative; 
        }

        #left-pane ul {
            list-style-type: none;
            padding: 0;
            margin: 0;
        }

        #left-pane li {
            padding: 15px;
            margin: 10px 0;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
            border-left: 4px solid transparent;
            font-size: 20px;
        }

        #left-pane li:hover {
            background-color: var(--hover-bg);
            border-left: 4px solid var(--accent-color);
        }
        
        #left-pane li.active {
            background-color: #e0e0e0;
            border-left: 4px solid var(--accent-color);
            font-weight: bold;
        }

        .subheading-category {
            font-weight: bold;
            margin-top: 20px !important;
            font-size: 22px !important;
            cursor: default !important;
            background-color: transparent !important;
        }
        .subheading-category:hover {
             border-left: 4px solid transparent !important;
        }
        .indented-subheading {
            padding-left: 40px !important;
        }


        #tooltip {
            display: none;
            position: fixed; 
            background: #333;
            color: #fff;
            padding: 10px 15px;
            border-radius: 5px;
            white-space: pre-wrap;
            max-width: 300px;
            z-index: 9999; 
            pointer-events: none; 
            font-size: 20px;
        }

        #top-right-pane {
            grid-area: top-right;
            display: flex;
            position: relative;
        }
        
        #media-container {
            width: 100%;
            height: 100%;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: space-around;
            gap: 15px;
            overflow: hidden;
            border-radius: 5px;
        }
        
        #media-container > *:not(.multi-chart-wrapper):not(.info-graphic) {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            max-width: 100%;
            max-height: 100%;
            border: none;
        }
        
        .multi-chart-wrapper, .info-graphic {
            position: relative;
            flex: 1;
            height: 100%;
            min-width: 0;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            gap: 10px;
        }
        .info-graphic {
            font-size: 1.1em;
            color: var(--main-text-color);
        }
        .info-graphic p { margin: 5px; font-weight: bold; }
        .info-graphic .speed-box { border: 2px solid #ccc; border-radius: 8px; padding: 10px; margin-top: 10px; background: rgba(255,255,255,0.2)}
        .info-graphic .speed-title { font-weight: bold; font-size: 1.2em; margin-bottom: 5px;}
        .info-graphic .speed-row { display: flex; justify-content: space-between; width: 100%; padding: 0 5px; margin-top: 5px;}


        .video-background { opacity: 0.08; z-index: 1; pointer-events: none; }
        .chart-foreground, .svg-foreground { z-index: 2; backdrop-filter: blur(5px); }
        .video-foreground { opacity: 1; z-index: 3; }
        .chart-hidden, .svg-hidden { display: none; }
        
        #media-switcher { position: absolute; bottom: 15px; left: 20px; z-index: 10; }
        .dot { height: 12px; width: 12px; background-color: rgba(255, 255, 255, 0.5); border: 1px solid #333; border-radius: 50%; display: inline-block; margin-right: 8px; cursor: pointer; transition: background-color 0.3s; }
        .dot.active { background-color: var(--accent-color); }

        #page-switcher { position: fixed; bottom: 20px; left: 20px; z-index: 100; }
        #page-switcher .page-dot { height: 16px; width: 16px; background-color: rgba(0, 0, 0, 0.2); border: 2px solid white; }
        #page-switcher .page-dot.active { background-color: white; }

    </style>
</head>
<body>
    <div id="tooltip"></div>
    <div id="page-switcher"></div>
    
    <div id="background-container"></div>

    <div class="presentation-grid">
        <div id="left-pane" class="pane">
            <h1 id="main-title"></h1>
            <div class="scrollable-content">
                <ul id="subheading-list"></ul>
            </div>
        </div>

        <div id="top-right-pane" class="pane">
            <div id="media-container"></div>
            <div id="media-switcher"></div>
        </div>
        
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', () => {

        const mainTitle = document.getElementById('main-title');
        const subheadingList = document.getElementById('subheading-list');
        const mediaContainer = document.getElementById('media-container');
        const mediaSwitcher = document.getElementById('media-switcher');
        const pageSwitcher = document.getElementById('page-switcher');
        const tooltip = document.getElementById('tooltip');
        
        let currentCharts = [];
        let currentPageIndex = 0;
        
        // --- Updated global variables for background management ---
        let bgContainer;
        let p5Sketch = null;
        let vanillaWaveArt = null;
        let originalAnimationId = null;


        const presentationData = [
            { // Page 1
                title: "Macroeconomics of Pakistan; Demographics",
                subheadings: {
                    'populationRank': { text: "Pakistan is the world's <b>5th</b> most populous nation.", tooltip: "Population Rank: Ranked as the <b>5th</b> most populous country of the world.", content: [ { type: 'chart', generator: 'populationRankChart' } ] },
                    'youthBulge': { text: "The country is experiencing a youth bulge with a median age of <b>23 years</b>.", tooltip: "Youth Population: With a median age of <b>23 years</b>, Pakistan is witnessing a youth bulge and currently has the youngest population in the country’s history.", content: [ { type: 'chart', generator: 'youthBulgeChart' }, { type: 'video', url: 'https://raw.githack.com/seriousanimation/presentation/main/videos/youth.mp4' } ] },
                    'ruralUrbanDivide': { text: "The population is divided between a <b>65%</b> rural and <b>35%</b> urban demographic.", tooltip: "Population Divide: The rural – urban population divide is <b>65% - 35%</b>.", content: [ { type: 'chart', generator: 'ruralUrbanDivideChart' }, { type: 'video', url: 'https://raw.githack.com/seriousanimation/presentation/main/videos/rural.mp4' } ] },
                    'demographicDividend': { text: "The working-age population is <b>1.6 times</b> larger than the dependent population.", tooltip: "Demographic Dividend: Pakistan qualifies for ‘demographic dividend’; working age population is almost <b>1.6 times</b> larger than dependent population i.e., <b>60%</b> of the population is <b>30 years</b> and below.", content: [ { type: 'chart', generator: 'demographicDividendChart' } ] }
                }
            },
            { // Page 2
                title: "Macroeconomics of Pakistan; Frontier Market",
                subheadings: {
                    'freelancingRank': { text: "Pakistan ranks among the top <b>five</b> countries for ICT freelancing.", tooltip: "Freelancing Hub: Pakistan is amongst top <b>five</b> countries in the world in ‘freelancing’ within ICT space.", content: [ { type: 'chart', generator: 'freelancingRankChart' } ] },
                    'exportGrowth': { text: "Freelance earnings grew by <b>26.53%</b> to reach <b>$2.177 billion</b>.", tooltip: "Export Growth: Pakistan earned <b>$2.177 billion</b> which represents a growth of <b>26.53%</b> compared to the same period in the previous fiscal year.", content: [ { type: 'chart', generator: 'exportGrowthChart' } ] },
                    'telecomGrowth': { text: "The Telecom sector has a mobile base of <b>197M</b> subscribers.", tooltip: "Telecom Growth: Phenomenal growth in the Telecom sector; <b>197M</b> mobile base (tele density <b>~81%</b>) and <b>143M</b> mobile broadband subscribers (tele density <b>~58%</b>).", content: [ { type: 'chart', generator: 'telecomGrowthChart' } ] },
                    'startupFunding': { text: "The startup ecosystem has attracted over <b>$850M</b> in VC funding since 2015.", tooltip: "Startup Ecosystem: Pakistan’s young and digital native demographic; the startup ecosystem energized by VC funding with funding of <b>$850M+</b> between <b>2015 - 2024</b>.", content: [ { type: 'chart', generator: 'startupFundingChart' } ] }
                }
            },
            { // Page 3
                title: "Macroeconomics of Pakistan; Policy",
                subheadings: {
                    '5gAuction': { text: "The PTA has issued guidelines for the upcoming <b>5G spectrum</b> auction.", tooltip: "<b>5G Auction:</b> PTA (Pakistan Telecom Authority) issued policy guidelines for <b>5G spectrum</b> auction.", content: [ { type: 'svg', generator: 'svg5gAuction' } ] },
                    'ldiLicensing': { text: "New <b>LDI</b> licenses are being offered to service providers by the PTA.", tooltip: "<b>LDI Licensing:</b> PTA invited service providers for new <b>LDI (Long Distance International)</b> licenses.", content: [ { type: 'svg', generator: 'svgLdiLicensing' } ] },
                    'mvnoLicensing': { text: "The government will soon begin <b>MVNO</b> licensing.", tooltip: "<b>MVNO Licensing:</b> The Government will soon be initiating <b>MVNO (Mobile Virtual Network Operator)</b> licensing in the country.", content: [ { type: 'svg', generator: 'svgMvnoLicensing' } ] },
                    'cloudFirst': { text: "The <b>'Pakistan Cloud First Policy'</b> has been issued for the public sector.", tooltip: "<b>Cloud First Policy:</b> The Government focusing on digitalization; <b>Pakistan Cloud First Policy</b> issued by the Ministry of IT & Telecom for the public sector entities.", content: [ { type: 'svg', generator: 'svgCloudFirst' } ] },
                    'bankingCloud': { text: "The State Bank has issued guidelines for <b>cloud services</b> in banking.", tooltip: "<b>Banking Cloud Guidelines:</b> The State Bank of Pakistan issued guidelines for outsourcing arrangements for <b>cloud services</b> for the Banking sector.", content: [ { type: 'svg', generator: 'svgBankingCloud' } ] }
                }
            },
            { // Page 4
                title: "Pakistan Country Overview – GDP Growth Outlook",
                subheadings: {
                    'population': { text: "The total population of Pakistan is <b>244 million</b>.", tooltip: "Population: <b>244M</b> | <b>42%</b> Population about to reach 18 | <b>48%</b> Population between 18 to 55 | Population Growth: <b>1.96%</b>", content: [{type: 'multi-chart', generator: 'gdpPage_populationCharts'}] },
                    'gdp': { text: "The GDP per capita stands at <b>$1,680</b>.", tooltip: "GDP/Capita: <b>$1,680</b> | GDP: <b>$375B</b> | GNI: <b>$368.9B</b> | GDP Growth (IMF Proj): <b>2%</b> (2024) <b>3.5%</b> (2025)", content: [{type: 'multi-chart', generator: 'gdpPage_gdpCharts'}]},
                    'broadband': { text: "There are <b>135 million</b> broadband subscribers in the country.", tooltip: "BB Subscribers: <b>135M</b> | <b>132M</b> Mobile BB Customer | <b>2.74M</b> Fixed BB Subscriber", content: [{type: 'multi-chart', generator: 'gdpPage_broadbandCharts'}]},
                    'households': { text: "Pakistan consists of <b>39.6 million</b> households.", tooltip: "Households: <b>39.6M</b> | Approx. <b>6.16</b> persons per house hold | Access to Electricity: <b>94.9%</b>", content: [{type: 'info-graphic', generator: 'gdpPage_householdStats'}]}
                }
            },
            { // Page 5
                title: "Pakistan Telecom Market – Mobile dominated",
                subheadings: {
                    'revenue': { text: "The total telecom market revenue is <b>$3.4 billion</b>.", tooltip: "Revenue: <b>$3.4B</b> | Cellular: <b>2.24B</b> | Fixed BB: <b>0.39B</b> | Teledensity: <b>81.1%</b>", content: [{type: 'chart', generator: 'telecomPage_revenueChart'}]},
                    'cellularSubs': { text: "There are <b>197 million</b> cellular subscribers across <b>4 major players</b>.", tooltip: "Cellular Subscribers: <b>197M</b> | <b>4</b> Major Players (soon to be 3) | ARPU (PKR): <b>311</b>", content: [{type: 'chart', generator: 'telecomPage_cellularSubsChart'}]},
                    'fixedSubs': { text: "The fixed broadband market consists of <b>3.7 million</b> subscribers.", tooltip: "Fixed BB Subscribers: <b>3.7M</b> | <b>8</b> Major Players | ARPU (PKR): <b>3,000</b>", content: [{type: 'chart', generator: 'telecomPage_fixedSubsChart'}]},
                    'medianSpeeds': { text: "Median cellular download speed in Pakistan is <b>26.33 Mbps</b>.", tooltip: "Median Speeds (April-25): Cellular (Global: <b>92.31</b>/<b>13.76</b> Mbps | PAK: <b>26.33</b>/<b>9.18</b> Mbps), Fixed (Global: <b>101.37</b>/<b>57.39</b> Mbps | PAK: <b>15.82</b>/<b>15.75</b> Mbps)", content: [{type: 'info-graphic', generator: 'telecomPage_medianSpeedsInfo'}]}
                }
            },
            /*
            { // Page 6
                title: "Case Study: T-Nor's Challenges",
                subheadings: {
                    'launch': { text: "In <b>March 2005</b>, Norwegian operator T-Nor launched its operations.", tooltip: "On <b>15th March 2005</b>, a Norwegian mobile operator ‘T-Nor’ launched its operations with a big fanfare in the country.", content: [{type: 'svg', generator: 'telenor_launch'}, {type: 'youtube', videoId: 'e452_k1g-s4'}]},
                    'networkIssues': { text: "Weeks after launch, the network experienced choking due to forecasting errors.", tooltip: "Within weeks of its launch, there was a network choaking due to miscalculation on part of ‘network dimensioning’ and ‘forecasting error’.", content: [{type: 'chart', generator: 'telenor_networkIssues'}]},
                    'priceWars': { text: "Intense price wars caused revenue and ARPU to nosedive.", tooltip: "Then came ‘price wars’ as all operators tried hard to grab ‘market share’...This resulted in erosion of revenues and ARPU (average revenue per user) nosedived.", content: [{type: 'chart', generator: 'telenor_priceWars'}]},
                    'fourGLicense': { text: "In <b>2014</b>, T-Nor invested in a <b>4G</b> license to drive revenue via mobile data.", tooltip: "In <b>2014</b>, 4G licensing kicked in and T-Nor along with other operators invested with an intention to take a lead to drive revenues via mobile data.", content: [{type: 'svg', generator: 'telenor_timeline'}]},
                    'loyaltyErosion': { text: "Constant price wars led to eroding customer loyalty and multi-SIM ownership.", tooltip: "All along the ‘customer loyalty’ was eroding over time i.e., price wars and customers were lured in to have ‘multiple SIM cards’ to avail offers.", content: [{type: 'chart', generator: 'telenor_loyalty'}]},
                    'prepaidMarket': { text: "The market was dominated by a <b>95%</b> prepaid subscriber base.", tooltip: "The market was predominantly a PAYG (pay as you go) market... prepaid market segment was <b>95%</b> while only <b>5%</b> was postpaid.", content: [{type: 'chart', generator: 'telenor_prepaidMarket'}]},
                    'customerChurn': { text: "A lack of customer centricity resulted in significant 'churn'.", tooltip: "A focus away from brand building, customer centricity, technology upgrades etc. resulted in ‘flight of subscribers’ what we call ‘churn’ of customers.", content: [{type: 'svg', generator: 'telenor_churn'}]},
                    'consultant': { text: "A team recommended hiring Gradient Advisors for an unbiased, SMART action plan.", tooltip: "The cross functional team recommended to onboard a consultant...to produce a realistic action plan which should be SMART (specific, measurable, achievable, relevant and time bound).", content: [{type: 'svg', generator: 'telenor_consultant'}]}
                }
            },
            { // Page 7
    title: "Context",
    subheadings: {
        'hireConsultant': { 
            text: "A cross-functional team recommended hiring a consultant for a <b>SMART</b> action plan.", 
            tooltip: "The cross functional team recommended to onboard a consultant in business advisory capacity to do away with biases and produce a realistic action plan which should be <b>SMART</b> (specific, measurable, achievable, relevant and time bound). ", 
            content: [{type: 'svg', generator: 'context_smartPlan'}]
        },
        'engageAdvisors': { 
            text: "T-Nor engaged <b>‘Gradient Advisors’</b> to define key focal areas for a turnaround.", 
            tooltip: "The T-Nor team approached <b>‘Gradient Advisors’</b> and after multiple iterations, the below mentioned areas were shortlisted to be ‘key focal areas’ in upcoming weeks and months to make T-Nor regain its competitive position in the market. ", 
            content: [{type: 'svg', generator: 'context_gradientAdvisors'}]
        },
        'focalAreas': { 
            text: "The key focal areas include: ", 
            isCategory: true, 
            content: [{type: 'empty'}] 
        },
        'churnMgmt': { 
            text: "<b>1.</b> Prioritize <b>churn management</b> using predictive analysis.", 
            tooltip: "The biggest challenge as a top priority was ‘churn management’ that is to have better estimations and forecasts with predictive analysis available at all times to minimize flight of customers to other operators. ", 
            isIndented: true, 
            content: [{type: 'svg', generator: 'remedial_churn'}] 
        },
        'custCentric': { 
            text: "<b>2.</b> Establish <b>‘customer centric’</b> as a cornerstone of the organization.", 
            tooltip: "The ‘customer centric’ was set as a cornerstone of the organization and elevating customer experience was suggested to be a major differentiator for T-Nor. ", 
            isIndented: true, 
            content: [{type: 'svg', generator: 'remedial_centricity'}] 
        },
        'netHealth': { 
            text: "<b>3.</b> Ensure <b>99.99% network health</b> with predictive maintenance.", 
            tooltip: "The network health had to be supreme at all times with <b>99.99%</b> service levels had to be in place and all network outages and maintenance activities had to be well anticipated to avoid hiccups. ", 
            isIndented: true, 
            content: [{type: 'chart', generator: 'remedial_network'}] 
        },
        'persoMarketing': { 
            text: "<b>4.</b> Implement <b>personalized marketing</b> based on user behavior.", 
            tooltip: "Personalized marketing to drive user behavior studies had to be in place for better customer insights in terms of needs and wants. ", 
            isIndented: true, 
            content: [{type: 'svg', generator: 'remedial_marketing'}] 
        },
        'loyaltyProg': { 
            text: "<b>5.</b> Create market traction with new <b>customer loyalty programs</b>.", 
            tooltip: "And last but not the least customer loyalty programs had to be in place to create market traction. ", 
            isIndented: true, 
            content: [{type: 'svg', generator: 'remedial_loyalty'}] 
        }
    }
},
{ // Page 8
    title: "Remedial Measures - Gradient Advisors",
    subheadings: {
        'aiBlueprint': { 
            text: "Gradient Advisors proposed AI interventions after creating a blueprint for T-Nor.", 
            tooltip: "The Gradient Advisors specialized in emerging technologies with focus on AI decided to propose AI based interventions and the team decided to work on blueprint for T-Nor with specific agenda to gauge appetite within an organization for AI interventions, understanding key DMU (decision making unit)... and budgetary approval process etc.  ", 
            content: [{type: 'svg', generator: 'remedial_blueprint'}]
        },
        'interventionIntro': {
            text: "The AI interventions were designed to address the top-priority issues.",
            tooltip: "These AI interventions would be geared to address issues highlighted as top priority items earlier, the details are as under:  ",
            content: [{type: 'svg', generator: 'remedial_target'}]
        },
        'netOptimization': { 
            text: "<b>1.</b> Implement AI-powered <b>Network Optimization</b> for predictive maintenance.  ", 
            tooltip: "AI-powered predictive maintenance for cell towers, dynamic resource allocation to manage network traffic, and anomaly detection to prevent outages.  ", 
            isIndented: true, 
            content: [{type: 'chart', generator: 'remedial_netOptimization'}] 
        },
        'churnPrediction': { 
            text: "<b>2.</b> Use machine learning for <b>Customer Churn Prediction</b>.  ", 
            tooltip: "Machine learning models to identify at-risk customers and proactively offer retention incentives.  ", 
            isIndented: true, 
            content: [{type: 'svg', generator: 'remedial_churnPrediction'}] 
        },
        'persMarketing': { 
            text: "<b>3.</b> Deploy AI-driven <b>Personalized Marketing</b> for targeted promotions.  ", 
            tooltip: "AI-driven analysis of user behavior to deliver targeted promotions and service recommendations.  ", 
            isIndented: true, 
            content: [{type: 'svg', generator: 'remedial_persMarketing'}] 
        },
        'custService': { 
            text: "<b>4.</b> Introduce <b>Customer Service Automation</b> with AI chatbots.  ", 
            tooltip: "AI-powered chatbots and voice assistants to handle customer queries, bill payments, and package subscriptions.  ", 
            isIndented: true, 
            content: [{type: 'svg', generator: 'remedial_custService'}] 
        },
        'sentimentAnalysis': { 
            text: "<b>5.</b> Use <b>Sentiment Analysis</b> to gauge public perception.  ", 
            tooltip: "Analyzing social media and customer feedback to gauge public perception and improve services.  ", 
            isIndented: true, 
            content: [{type: 'chart', generator: 'remedial_sentiment'}] 
        }
    }
},
{ // Page 9
    title: "The Game Plan - Gradient Advisors",
    dotColor: 'rgb(190, 190, 190)',
    subheadings: {
        'coreTeam': { 
            text: "Gradient Advisors formed a core team with a clear game plan to win the T-Nor project.", 
            tooltip: "The Gradient Advisors made a core team with well defined tasks to each member to win T-Nor project for AI interventions as there is clearly an opportunity but there must be a clear game plan to be in place with well thought out approach.", 
            content: [{type: 'svg', generator: 'gameplan_coreTeam'}]
        },
        'playbookIntro': {
            text: "A detailed playbook was created to structure the engagement with T-Nor and others.",
            tooltip: "A playbook must be in place to win T-Nor project and others.",
            content: [{type: 'svg', generator: 'gameplan_playbook'}]
        },
        'playbookElements': {
            text: "The major elements of the playbook are as under:",
            isCategory: true,
            content: [{type: 'empty'}]
        },
        'playbook_pitch': { 
            text: "<b>1. Pitch:</b> Position as a <b>Business Partner</b>, not a Third-Party Consultant.", 
            tooltip: "Pitch includes who we are, our core expertise, references etc. We are a <b>Business Partner</b> not a Third-Party Consultant.", 
            isIndented: true, 
            content: [{type: 'svg', generator: 'gameplan_pitch'}] 
        },
        'playbook_questionnaire': { 
            text: "<b>2. Detailed Questionnaire:</b> Gauge appetite and work processes across multiple tiers.", 
            tooltip: "Detailed Questionnaire to ascertain overall appetite, perspectives and gauge overall way of work at multiple tiers i.e., C levels, Technology Leadership and Operational Manager.", 
            isIndented: true, 
            content: [{type: 'svg', generator: 'gameplan_questionnaire'}] 
        },
        'playbook_diagnostics': { 
            text: "<b>3. Run Diagnostics:</b> Recommend AI interventions for key problem areas.", 
            tooltip: "Run Diagnostics and recommend AI based interventions targeting key problematic areas as highlighted earlier", 
            isIndented: true, 
            content: [{type: 'svg', generator: 'gameplan_diagnostics'}] 
        },
        'playbook_capacity': { 
            text: "<b>4. Capacity Building:</b> Educate T-Nor's existing resources on AI's impact.", 
            tooltip: "Capacity Building to educate existing resources at T-Nor about AI interventions and its impact", 
            isIndented: true, 
            content: [{type: 'svg', generator: 'gameplan_capacity'}] 
        },
        'playbook_poc': { 
            text: "<b>5. POC / Pilot Project:</b> Showcase the impact of AI tools on a small scale.", 
            tooltip: "POC (proof of concept) of existing AI tools followed by <b>Pilot Project</b> on small scale to showcase impact", 
            isIndented: true, 
            content: [{type: 'chart', generator: 'gameplan_poc'}] 
        },
        'playbook_nda': { 
            text: "<b>6. Sign off NDA's:</b> Finalize non-disclosure agreements.", 
            tooltip: "Sign off NDA's (non-disclosure agreements)", 
            isIndented: true, 
            content: [{type: 'svg', generator: 'gameplan_nda'}] 
        },
        'playbook_commercials': { 
            text: "<b>7. Commercials:</b> Secure the project budget.", 
            tooltip: "Commercials and Secure Budget", 
            isIndented: true, 
            content: [{type: 'svg', generator: 'gameplan_commercials'}] 
        },
        'playbook_matrix': { 
            text: "<b>8. Responsibility Matrix:</b> Define roles for Gradient Advisors and T-Nor.", 
            tooltip: "Responsibility Matrix i.e., roles for Gradient Advisors and T-Nor", 
            isIndented: true, 
            content: [{type: 'svg', generator: 'gameplan_matrix'}] 
        },
        'playbook_contract': { 
            text: "<b>9. Contract Sign Off:</b> Define <b>Deliverables, Timelines, and Costs</b>.", 
            tooltip: "Contract Sign Off with clearly defined <b>Deliverables, Timelines and Associated Costs</b> (manhours)", 
            isIndented: true, 
            content: [{type: 'svg', generator: 'gameplan_contract'}] 
        },
        'playbook_realization': { 
            text: "<b>10. Affect Realization:</b> Showcase quantifiable impact post-deployment.", 
            tooltip: "Affect Realization i.e., post deployment analysis showcasing quantifiable impact", 
            isIndented: true, 
            content: [{type: 'chart', generator: 'gameplan_realization'}] 
        }
    }
},*/
{ // page 10
    title: "Applying the Playbook",
    dotColor: 'rgb(255, 255, 160)',
    subheadings:{
        ' ':{ text: "A Case Study" }
    }
},
{ // Page 11
    title: "Client Background: T-Nor",
    dotColor: 'rgb(255, 210, 160)',
    subheadings: {
        'client_history': { 
            text: "<b>1. Company History:</b> Launched in 2005, T-Nor's aggressive start triggered intense price wars.", 
            tooltip: "Company History: T-Nor, a Norwegian mobile operator, launched in Pakistan in 2005. An aggressive launch and network rollout led to initial success but also triggered intense 'price wars' with incumbent operators.", 
            isIndented: true, 
            content: [{type: 'chart', generator: 'client_history_diagram'}] 
        },
        'client_problem': {
            text: "<b>2. The Core Problem:</b> Revenue erosion, nosediving ARPU, and significant subscriber churn.",
            tooltip: "The Core Problem: Erosion of revenues, nosediving ARPU, and a market dynamic where customer loyalty became virtually non-existent. The company's focus was diverted from brand building and customer-centricity, resulting in a 'flight of subscribers,' or churn, which has now become a 'serious red flag'.",
            isIndented: true,
            content: [{type: 'svg', generator: 'client_problem_diagram'}]
        },
        'client_market': {
            text: "<b>3. Market Context:</b> A <b>95% prepaid</b> (PAYG) market creates high price sensitivity.",
            tooltip: "Market Context: The market is predominantly prepaid (95% PAYG), making customers highly price-sensitive.",
            isIndented: true,
            content: [{type: 'chart', generator: 'client_market_diagram'}]
        },
        'client_need': {
            text: "The Need: Interventions for <b>better predictability</b> to foresee business risks.",
            tooltip: "They need a series of interventions that can bring 'better predictability' to foresee business risks.",
            content: [{type: 'svg', generator: 'client_need_diagram'}]
        }
    }
},
{ // Page 11
    title: "Key Focal Areas Identified by Client",
    dotColor: 'rgb(255, 210, 160)',
    subheadings: {
        'focal_churn': { 
            text: "<b>1. Churn Management:</b> The client needs better estimations and predictive analysis to minimize the flight of customers.", 
            tooltip: "The client needs better estimations and predictive analysis to minimize the flight of customers.",
            content: [{type: 'svg', generator: 'focal_churn_dashboard'}] 
        },
        'focal_experience': {
            text: "<b>2. Customer Experience:</b> 'Customer centricity' is to be a cornerstone of the new strategy and a major differentiator.",
            tooltip: "'Customer centricity' is to be a cornerstone of the new strategy and a major differentiator.",
            content: [{type: 'svg', generator: 'focal_experience_journey'}]
        },
        'focal_network': {
            text: "<b>3. Network Health:</b> The network must be supreme at all times , with well-anticipated maintenance to avoid outages.",
            tooltip: "The network must be supreme at all times , with well-anticipated maintenance to avoid outages.",
            content: [{type: 'svg', generator: 'focal_network_map'}]
        },
        'focal_marketing': {
            text: "<b>4. Personalized Marketing:</b> user behavior studies for better customer insights.",
            tooltip: "user behavior studies for better customer insights.",
            content: [{type: 'svg', generator: 'focal_marketing_funnel'}]
        },
        'focal_loyalty': {
            text: "<b>5. Customer Loyalty Programs:</b> Generate Market Traction",
            tooltip: "Generate Market Traction",
            content: [{type: 'svg', generator: 'focal_loyalty_ladder'}]
        }
    }
},
{ // Page 12
    title: "Applying the 'Idea Factory Way': An Engagement Roadmap",
     dotColor: 'rgb(255, 160, 160)',
    subheadings: {
        'roadmap_phase1': { 
            text: "<b>Phase 1: Diagnose & Strategize</b> - Deploy an AI Readiness Toolkit to validate focal areas and assess infrastructure.", 
            tooltip: "We will deploy our AI Readiness & Opportunity Diagnostic Toolkit. The goal is to validate the five focal areas and uncover deeper insights into their data posture and technical infrastructure.",
            content: [{type: 'svg', generator: 'roadmap_phase1_diagnose'}] 
        },
        'roadmap_phase2': {
            text: "<b>Phase 2: Pilot & Prove</b> - Execute a high-impact, low-risk pilot project focused on churn prediction.",
            tooltip: "Based on the diagnosis, we will propose a high-impact, low-risk pilot project. The 'AI-Powered Churn Prediction & Prevention' service blueprint would be the prime candidate for this phase, as it addresses the client's #1 priority.",
            content: [{type: 'svg', generator: 'roadmap_phase2_pilot'}]
        },
        'roadmap_phase3': {
            text: "<b>Phase 3: Scale & Transform</b> - Roll out the successful pilot solution across the entire subscriber base.",
            tooltip: "Upon successful completion of the pilot, we will work with T-Nor to roll out the solution across their entire subscriber base and integrate it into their core marketing and retention workflows.",
            content: [{type: 'svg', generator: 'roadmap_phase3_scale'}]
        },
        'roadmap_phase4': {
            text: "<b>Phase 4: Sustain & Optimize</b> - Establish governance and provide capacity building for long-term success.",
            tooltip: "We will establish governance mechanisms and provide capacity building to T-Nor's existing resources to ensure they can manage and continuously improve the AI models long-term.",
            content: [{type: 'svg', generator: 'roadmap_phase4_sustain'}]
        }
    }
},
{ // page 13
    title: "Service Blueprints",
    dotColor: 'rgb(160, 160, 255)',
    subheadings:{
        ' ':{ text: " " }
    }
},
{ // Page 14
    title: "AI Adoption Plan for T-Nor",
     dotColor: 'rgb(130, 235, 190)',
    subheadings: {
        'adoption_overview_goal': { 
            text: "The goal is to foster trust, reduce resistance, and build a collaborative future where AI augments human roles.", 
            tooltip: "The AI Adoption Plan for T-Nor focuses on Churn management, employee training, inclusion, and change management. The goal is to foster trust, reduce resistance, and build a collaborative future where AI augments human roles.",
            content: [{type: 'svg', generator: 'adoption_goal_diagram'}] 
        }
    }
},
{ // Page 15
    title: "AI Adoption Plan: Phase 1 & 2",
    dotColor: 'rgb(130, 235, 190)',
    subheadings: {
        'category_phase1': { text: "<b>Phase 1: Awareness and Communication</b>", isCategory: true, content: [{type: 'empty'}] },
        'item_webinars': { 
            text: "• Webinars, and interactive Q&A sessions to explain the purpose of AI integration.", 
            tooltip: "Webinars, and interactive Q&A sessions to explain the purpose of AI integration.",
            isIndented: true, 
            content: [{type: 'svg', generator: 'adoption_comms_diagram'}] 
        },
        'item_message': {
            text: "• <b>Message:</b> AI will not be used to cut headcount but to enhance roles and skill development.",
            tooltip: "Message: AI will not be used to cut headcount but to enhance roles and skill development.",
            isIndented: true,
            content: [{type: 'svg', generator: 'adoption_message_diagram'}]
        },
        'category_phase2': { text: "<b>Phase 2: Collaborate and Plan</b>", isCategory: true, content: [{type: 'empty'}] },
        'item_groups': {
            text: "• Cross-functional AI working groups to identify areas and conduct AI impact assessments.",
            tooltip: "Cross-functional AI working groups including RF Engineers, Technical Support, Network and operations Support, Strategy and Business Development etc. to identify areas and conduct AI impact assessments.",
            isIndented: true,
            content: [{type: 'svg', generator: 'adoption_groups_diagram'}]
        },
        'item_tools': {
            text: "• <b>Tools:</b> Surveys, suggestion boxes, workshops",
            tooltip: "Tools: Surveys, suggestion boxes, workshops",
            isIndented: true,
            content: [{type: 'svg', generator: 'adoption_tools_diagram'}]
        },
        'item_output': {
            text: "• <b>Output:</b> AI task matrix (Human-led, AI-assisted, Fully automated)",
            tooltip: "Output: AI task matrix (Human-led, AI-assisted, Fully automated)",
            isIndented: true,
            content: [{type: 'svg', generator: 'adoption_matrix_diagram'}]
        }
    }
},
{ // Page 16
    title: "AI Adoption Plan: Phase 3 & 4",
    dotColor: 'rgb(130, 235, 190)',
    subheadings: {
        'category_phase3': { text: "<b>Phase 3: Training and Upskilling</b>", isCategory: true, content: [{type: 'empty'}] },
        'item_tiers': {
            text: "• <b>Training Tiers:</b> Includes Basic AI Literacy, Role-Specific Workshops, and Advanced Roles for data teams.",
            tooltip: "Basic AI Literacy: All staff – Understanding what AI is, ethical use, limitations. Role/Tool-Specific Workshops: customized to specific department. Advanced Roles: Data teams – Prompt engineering, ML model interpretation, AI ethics.",
            isIndented: true,
            content: [{type: 'svg', generator: 'adoption_training_pyramid'}]
        },
        'item_incentives': {
            text: "• <b>Incentives:</b> Badges, promotions, or bonuses tied to upskilling.",
            tooltip: "Incentives: Badges, promotions, or bonuses tied to upskilling.",
            isIndented: true,
            content: [{type: 'svg', generator: 'adoption_incentives_diagram'}]
        },
        'category_phase4': { text: "<b>Phase 4: Pilot and Feedback</b>", isCategory: true, content: [{type: 'empty'}] },
        'item_agenting': {
            text: "• Agenting AIs, Chatbots and Voicebots (Regional, Urdu, English)",
            tooltip: "Agenting AIs, Chatbots and Voicebots (Regional, Urdu, English)",
            isIndented: true,
            content: [{type: 'svg', generator: 'intervention_chatbots'}]
        },
        'item_anomalies': {
            text: "• Anomalies detections, Issuing commands, Automate FAQs, billing, subscriptions",
            tooltip: "Anomalies detections, Issuing commands, Automate FAQs, billing, subscriptions",
            isIndented: true,
            content: [{type: 'svg', generator: 'pilot_tasks_diagram'}]
        },
        'item_trigger_service': {
            text: "• Trigger service adjustments.",
            tooltip: "Trigger service adjustments.",
            isIndented: true,
            content: [{type: 'svg', generator: 'intervention_adjustments'}]
        }
    }
},
{ // Page 17
    title: "AI Adoption Plan: Phase 5 & Sustainability",
    dotColor: 'rgb(130, 235, 190)',
    subheadings: {
        'category_phase5': { text: "<b>Phase 5: Integrate and scale up.</b>", isCategory: true, content: [{type: 'empty'}] },
        'item_integrate': {
            text: "• Integrate successful tools across departments with clear governance structures.",
            tooltip: "Integrate successful tools across departments with clear governance structures.",
            isIndented: true,
            content: [{type: 'svg', generator: 'adoption_scale_diagram'}]
        },
        'item_hitl': {
            text: "• Develop a Human-in-the-Loop (HITL) framework: AI suggestions always require human approval.",
            tooltip: "Develop a Human-in-the-Loop (HITL) framework: AI suggestions always require human approval.",
            isIndented: true,
            content: [{type: 'svg', generator: 'adoption_hitl_diagram'}]
        },
        'item_iterative': {
            text: "• Continue iterative training to adapt to newer tools and evolving workflows.",
            tooltip: "Continue iterative training to adapt to newer tools and evolving workflows.",
            isIndented: true,
            content: [{type: 'svg', generator: 'sustain_training_diagram'}]
        },
        'item_sustainability': {
            text: "• <b>Monitoring and Sustainability:</b> Regular audits to check for bias, job erosion, or overdependence on AI.",
            tooltip: "Monitoring and Sustainability: Regular audits to check for bias, job erosion, or overdependence on AI.",
            isIndented: true,
            content: [{type: 'svg', generator: 'adoption_sustain_diagram'}]
        }
    }
},
{ // Page 18
    title: "Next Steps for the Idea Factory Team",
     dotColor: 'rgb(225, 255, 150)',
    subheadings: {
        'next_analyze': { 
            text: "<b>1. Analyze:</b> The team will analyze feedback from the initial pitch and market research.", 
            tooltip: "The first step is to thoroughly analyze all feedback gathered from the pitch process, as well as initial market research and diagnostic findings, to identify strengths and areas for improvement.",
            content: [{type: 'svg', generator: 'nextsteps_analyze'}] 
        },
        'next_refine': {
            text: "<b>2. Refine:</b> Refine the value proposition, service blueprints, and engagement model.",
            tooltip: "Based on the analysis, the team will refine the core value proposition, polish the service blueprints for each intervention, and optimize the overall client engagement model for maximum impact and clarity.",
            content: [{type: 'svg', generator: 'nextsteps_refine'}]
        },
        'next_simulation': {
            text: "<b>3. Prepare for Simulation:</b> Conduct internal dry-runs and pressure-test the pitch.",
            tooltip: "The team will prepare for a full-scale client simulation by conducting multiple internal dry-runs of the refined pitch. This includes pressure-testing the proposal against different potential client objections and questions.",
            content: [{type: 'svg', generator: 'nextsteps_simulation'}]
        },
        'next_catalog': {
            text: "<b>4. The Solution Catalog:</b> Finalize a comprehensive catalog of AI services.",
            tooltip: "'The Solution Catalog' is a complete portfolio of services with Vertical Deep Dives (e.g., AI for Telecom) and Horizontal Applications (e.g., Churn Prediction for any industry).",
            content: [{type: 'svg', generator: 'nextsteps_catalog'}]
        }
    }
}
        ];
        
        const createChart = (container, config) => { const canvas = document.createElement('canvas'); container.appendChild(canvas); const chart = new Chart(canvas.getContext('2d'), config); currentCharts.push(chart); return canvas; };
        const mediaGenerators = { 
            // All generators are complete and restored here
            'populationRankChart':(c)=>{const co={type:'bar',data:{labels:['India','China','US','Indonesia','Pakistan'],datasets:[{label:'Population (B)',data:[1.428,1.425,0.339,0.277,0.244],backgroundColor:['#ff6384','#36a2eb','#ffce56','#4bc0c0','#9966ff']}]},options:{responsive:true,maintainAspectRatio:false,plugins:{title:{display:true,text:'Top 5 Most Populous Countries'}}}};return createChart(c,co)},
            'youthBulgeChart':(c)=>{const co={type:'doughnut',data:{labels:['30 & Below','Over 30'],datasets:[{data:[60,40],backgroundColor:['#4bc0c0','#ff9f40']}]},options:{responsive:true,maintainAspectRatio:false,plugins:{title:{display:true,text:'Youth Bulge (Median Age: 23)'}}}};return createChart(c,co)},
            'ruralUrbanDivideChart':(c)=>{const co={type:'pie',data:{labels:['Rural','Urban'],datasets:[{data:[65,35],backgroundColor:['#36a2eb','#ff6384']}]},options:{responsive:true,maintainAspectRatio:false,plugins:{title:{display:true,text:'Rural vs. Urban Population Divide'}}}};return createChart(c,co)},
            'demographicDividendChart':(c)=>{const co={type:'bar',data:{labels:['Working-Age','Dependent'],datasets:[{label:'Population Ratio',data:[1.6,1],backgroundColor:['#9966ff','#c9cbcf']}]},options:{responsive:true,maintainAspectRatio:false,indexAxis:'y',plugins:{title:{display:true,text:'Demographic Dividend'}}}};return createChart(c,co)},
            'freelancingRankChart':(c)=>{const co={type:'bar',data:{labels:['USA','UK','Brazil','Pakistan','Ukraine'],datasets:[{label:'Top Freelancing Countries',data:[100,80,75,70,65],backgroundColor:'#4bc0c0'}]},options:{responsive:true,maintainAspectRatio:false,plugins:{title:{display:true,text:'Global ICT Freelancing Rank'}}}};return createChart(c,co)},
            'exportGrowthChart':(c)=>{const co={type:'bar',data:{labels:['Previous Year','Current Year'],datasets:[{label:'Earnings ($B)',data:[1.72,2.177],backgroundColor:['#ff9f40','#36a2eb']}]},options:{responsive:true,maintainAspectRatio:false,plugins:{title:{display:true,text:'Freelance Earnings Growth'}}}};return createChart(c,co)},
            'telecomGrowthChart':(c)=>{const co={type:'bar',data:{labels:['Mobile Base','Broadband'],datasets:[{label:'Subscribers (M)',data:[197,143],backgroundColor:['#9966ff','#ff6384']}]},options:{responsive:true,maintainAspectRatio:false,plugins:{title:{display:true,text:'Telecom Subscriber Base'}}}};return createChart(c,co)},
            'startupFundingChart':(c)=>{const co={type:'pie',data:{labels:['Ecommerce','Fintech','Health-Tech','Ed-tech'],datasets:[{label:'VC Funding ($M)',data:[527,277,44,13],backgroundColor:['#ff6384','#36a2eb','#4bc0c0','#ffce56']}]},options:{responsive:true,maintainAspectRatio:false,plugins:{title:{display:true,text:'Startup Funding by Category'}}}};return createChart(c,co)},
            'svg5gAuction':(c)=>{c.innerHTML=`<svg viewBox="0 0 400 200"><style>.f{font-family:var(--font-family);font-size:16px;font-weight:bold;fill:var(--main-text-color);}.w4{animation:w 2s ease-in-out forwards;opacity:0.2;}.w5{animation:w 2s 1s ease-in-out forwards;opacity:0;}@keyframes w{to{opacity:1;}}</style><text x="200" y="30" text-anchor="middle" class="f">Transition to 5G</text><path class="w4" d="M 50 150 C 100 50, 150 50, 200 150 S 250 50, 300 150" stroke="#ccc" stroke-width="4" fill="none"/><text class="w4 f" x="175" y="170">4G</text><path class="w5" d="M 100 150 C 140 50, 180 50, 220 150 S 260 50, 300 150" stroke="var(--accent-color)" stroke-width="6" fill="none" stroke-dasharray="5 5"/><text class="w5 f" x="200" y="60">5G</text></svg>`;return c},
            'svgLdiLicensing':(c)=>{c.innerHTML=`<svg viewBox="0 0 400 200"><style>.f{font-family:var(--font-family);font-size:14px;fill:var(--main-text-color);font-weight:bold;}.l{stroke-dasharray:200;stroke-dashoffset:200;animation:c 2s ease-out forwards;}@keyframes c{to{stroke-dashoffset:0;}}</style><path d="M96.7,166.36,92.53,153.21l-3.5,6.13-7.5-1.74,10.1-17.51,6.8,1.45-3.6,6.23,4.17,13.15Z" fill="var(--accent-color)"/><path d="M110.51,148.9l-13.6-4.13,3.8-12.57,13.5,4.13Z" fill="var(--accent-color)"/><circle cx="150" cy="100" r="40" fill="none" stroke="#333" stroke-width="2"/><text class="f" x="20" y="30">New LDI Providers</text><text class="f" x="20" y="50">Connecting Pakistan</text><g class="l"><path d="M110 100 L 150 100" stroke="var(--accent-color)" stroke-width="3"/><path d="M150 100 C 200 50, 250 80, 300 80" fill="none" stroke="var(--accent-color)" stroke-width="3"/></g><g class="l" style="animation-delay:0.5s"><path d="M150 100 C 200 150, 250 120, 300 120" fill="none" stroke="var(--accent-color)" stroke-width="3"/></g></svg>`;return c},
            'svgMvnoLicensing':(c)=>{c.innerHTML=`<svg viewBox="0 0 400 200"><style>.f{font-family:var(--font-family);font-size:14px;fill:var(--main-text-color);font-weight:bold;}.flow{animation:flow 3s linear infinite;}@keyframes flow{from{transform:translateX(0);}to{transform:translateX(40px);}}</style><text class="f" x="200" y="25" text-anchor="middle">MVNOs use MNO Infrastructure</text><rect x="50" y="80" width="300" height="40" fill="#ccc" rx="20"/><g class="flow"><circle cx="70" cy="100" r="8" fill="white"/><circle cx="110" cy="100" r="8" fill="white"/><circle cx="150" cy="100" r="8" fill="white"/></g><text class="f" x="200" y="140" text-anchor="middle">MNO Main Network</text><rect x="180" y="40" width="100" height="30" fill="var(--accent-color)" rx="15"/><path d="M230 70 V 80" stroke="var(--accent-color)" stroke-width="10"/><text class="f" fill="white" x="230" y="60" text-anchor="middle">MVNO</text></svg>`;return c},
            'svgCloudFirst':(c)=>{c.innerHTML=`<svg viewBox="0 0 400 200"><style>.t{font:bold 14px var(--font-family);fill:#333;}.p{animation:m 2s ease-in-out forwards;}@keyframes m{from{transform:translateX(0);}to{transform:translateX(150px);}}</style><g><rect x="20" y="75" width="80" height="50" fill="#ccc"/><text class="t" x="60" y="105" text-anchor="middle">Min. of IT</text></g><g class="p"><path d="M125,80 h20 v-20 l15,15 l15-15 v20 h20 v40 h-70z" fill="#e0e0e0"/><text class="t" x="160" y="105" text-anchor="middle">Policy</text></g><g><path d="M300 125 L 380 125 L 380 75 L 350 75 L 350 45 L 330 45 L 330 75 L 300 75z" fill="#ccc"/><text class="t" x="340" y="105" text-anchor="middle">Public Sector</text></g></svg>`;return c},
            'svgBankingCloud':(c)=>{c.innerHTML=`<svg viewBox="0 0 400 200"><style>.t{font:bold 14px var(--font-family);fill:#333;}.s{animation:s 1.5s ease-in-out forwards;transform-origin:center;opacity:0;}@keyframes s{from{transform:scale(0.5);opacity:0;}to{transform:scale(1);opacity:1;}}</style><g><path d="M250,70 h80 v60 h-80z M250,130 l40,20 l40-20" fill="#ccc" stroke="#333" stroke-width="2"/><text class="t" x="290" y="110" text-anchor="middle">Banking</text><text class="t" x="290" y="125" text-anchor="middle">Sector</text></g><g class="s" transform="translate(100 60)"><path d="M50,0 C10,0 10,40 10,40 V90 H90 V40 C90,40 90,0 50,0z" fill="var(--accent-color)"/><path d="M50,20 a15,10 0 0,0 0,20 a10,5 0 0,0 0-20" fill="none" stroke="white" stroke-width="3"/><text class="t" x="50" y="75" text-anchor="middle" fill="white">Guidelines</text></g></svg>`;return c},
            'gdpPage_populationCharts':(c)=>{const w1=document.createElement('div');w1.className='multi-chart-wrapper';const w2=document.createElement('div');w2.className='multi-chart-wrapper';c.appendChild(w1);c.appendChild(w2);createChart(w1,{type:'bar',data:{labels:['2023','2024','2030','2040'],datasets:[{label:'Population (M)',data:[240.5,245.2,274,322.6],backgroundColor:'rgba(54,162,235,0.8)'}]},options:{responsive:true,maintainAspectRatio:false,plugins:{title:{display:true,text:'Population Growth'}}}});createChart(w2,{type:'pie',data:{labels:['18-55','<18','55+','8-17'],datasets:[{data:[48,42.4,5.2,4.4],backgroundColor:['#36a2eb','#ffcd56','#ff6384','#4bc0c0']}]},options:{responsive:true,maintainAspectRatio:false,plugins:{title:{display:true,text:'Population by Age Slab'}}}})},
            'gdpPage_gdpCharts':(c)=>{const w1=document.createElement('div');w1.className='multi-chart-wrapper';const w2=document.createElement('div');w2.className='multi-chart-wrapper';c.appendChild(w1);c.appendChild(w2);createChart(w1,{type:'bar',data:{labels:['2020','2021','2022','2023'],datasets:[{label:'GDP (US$B)',data:[300.43,348.5,374.7,338.24],backgroundColor:'rgba(75,192,192,0.8)'}]},options:{responsive:true,maintainAspectRatio:false,plugins:{title:{display:true,text:'GDP by Year'}}}});createChart(w2,{type:'line',data:{labels:['2022','2023','2024(P)','2025(P)','2029(P)'],datasets:[{label:'GDP Growth (%)',data:[6.2,0.2,2.0,3.5,5.0],borderColor:'rgba(255,99,132,1)',tension:0.1}]},options:{responsive:true,maintainAspectRatio:false,plugins:{title:{display:true,text:'GDP Growth (%) by Year'}}}})},
            'gdpPage_broadbandCharts':(c)=>{c.style.flexDirection='column';const w1=document.createElement('div');w1.className='multi-chart-wrapper';const w2=document.createElement('div');w2.className='multi-chart-wrapper';c.appendChild(w1);c.appendChild(w2);createChart(w1,{type:'bar',data:{labels:['Fixed BB Subs (M)'],datasets:[{label:'FTTH',data:[1.49]},{label:'DSL',data:[1.24]}]},options:{responsive:true,maintainAspectRatio:false,plugins:{title:{display:true,text:'Fixed Broadband Subscribers'}}}});createChart(w2,{type:'bar',data:{labels:['Mobile BB Subs (M)'],datasets:[{label:'2023-24',data:[133.4]},{label:'2024-25',data:[141.9]},{label:'2025-26',data:[150.4]}]},options:{responsive:true,maintainAspectRatio:false,plugins:{title:{display:true,text:'Mobile Broadband Subscribers'}}}})},
            'gdpPage_householdStats':(c)=>{c.innerHTML=`<div class="info-graphic"><p>6.16 Persons / Household</p><p>94.9% Access to Electricity</p><p>SPI: 71.1 | HCI: 0.4</p></div>`;return c},
            'telecomPage_revenueChart':(c)=>{const co={type:'line',data:{labels:['2023','2025','2030'],datasets:[{label:'Market Revenue ($)',data:[3050000000,4670000000,5490000000],borderColor:'rgba(75,192,192,1)',tension:0.1}]},options:{responsive:true,maintainAspectRatio:false,plugins:{title:{display:true,text:'Telecom Market Revenue Projection'}}}};return createChart(c,co)},
            'telecomPage_cellularSubsChart':(c)=>{const co={type:'bar',data:{labels:['Jazz','Zong','Telenor','Ufone','SCO'],datasets:[{label:'Subscribers (M)',data:[72.4,43.9,43.9,26.8,1.87],backgroundColor:['#ff6384','#36a2eb','#ffce56','#4bc0c0','#9966ff']}]},options:{responsive:true,maintainAspectRatio:false,plugins:{title:{display:true,text:'Cellular Subscribers by Operator'}}}};return createChart(c,co)},
            'telecomPage_fixedSubsChart':(c)=>{const co={type:'bar',data:{labels:['PTCL','Cybernet','NayaTel','Connect'],datasets:[{label:'Subscribers (Thousands)',data:[1911,598.8,189,166.4],backgroundColor:['#4bc0c0','#ff9f40','#ff6384','#36a2eb']}]},options:{responsive:true,maintainAspectRatio:false,indexAxis:'y',plugins:{title:{display:true,text:'Fixed Broadband Subscribers by Operator'}}}};return createChart(c,co)},
            'telecomPage_medianSpeedsInfo':(c)=>{c.innerHTML=`<div class="info-graphic"><div class="speed-box"><div class="speed-title">Cellular</div><div class="speed-row"><span>Global:</span><span><b>92.31</b> Mbps ⇩</span><span><b>13.76</b> Mbps ⇧</span></div><div class="speed-row"><span>PAK:</span><span><b>26.33</b> Mbps ⇩</span><span><b>9.18</b> Mbps ⇧</span></div></div><div class="speed-box"><div class="speed-title">Fixed</div><div class="speed-row"><span>Global:</span><span><b>101.37</b> Mbps ⇩</span><span><b>57.39</b> Mbps ⇧</span></div><div class="speed-row"><span>PAK:</span><span><b>15.82</b> Mbps ⇩</span><span><b>15.75</b> Mbps ⇧</span></div></div></div>`;return c},
            'telenor_launch':(c)=>{c.innerHTML=`<svg viewBox="0 0 400 200"><style>.f{font:bold 14px var(--font-family);}.main-logo{animation:pop-in .5s ease-out forwards;transform-origin:center;transform:scale(0)}.wave{fill:none;stroke:var(--accent-color);stroke-width:2;transform-origin:center;animation:radiate 2.5s ease-out infinite;opacity:0}.node{animation:pop-in .5s ease-out forwards;transform-origin:center;opacity:0}@keyframes pop-in{to{transform:scale(1);opacity:1}}@keyframes radiate{0%{transform:scale(.1);opacity:1}100%{transform:scale(1.5);opacity:0}}</style><g transform="translate(120 20) scale(.6)"><path fill="#ccc" d="M96.7,166.36,92.53,153.21l-3.5,6.13-7.5-1.74,10.1-17.51,6.8,1.45-3.6,6.23,4.17,13.15Z"/><path fill="#ccc" d="M110.51,148.9l-13.6-4.13,3.8-12.57,13.5,4.13Z"/><path fill="#ccc" d="M178,165 l-2,-15 -10,-2 -5,10z M140,142 l-12,-10 -8,-15 10,-5 12,8 5,12z"/><path fill="#ccc" d="M160,50 l20,-10 30,5 10,20 -15,15 -30,-5z"/></g><g class="main-logo"><circle cx="200" cy="100" r="25" fill="var(--accent-color)"/><text x="200" y="106" text-anchor="middle" font-size="24" fill="white" font-weight="bold">T</text></g><g><circle class="wave" cx="200" cy="100" r="30"/><circle class="wave" style="animation-delay:.8s" cx="200" cy="100" r="30"/><circle class="wave" style="animation-delay:1.6s" cx="200" cy="100" r="30"/></g><g fill="var(--accent-color)"><circle class="node" style="animation-delay:.8s" cx="250" cy="120" r="5"/><circle class="node" style="animation-delay:1s" cx="150" cy="80" r="5"/><circle class="node" style="animation-delay:1.2s" cx="180" cy="140" r="5"/><circle class="node" style="animation-delay:1.4s" cx="230" cy="60" r="5"/><circle class="node" style="animation-delay:1.6s" cx="260" cy="90" r="5"/></g><text x="200" y="180" class="f" text-anchor="middle">T-Nor Launch - March 2005</text></svg>`;return c},
            'telenor_networkIssues':(c)=>{const co={type:'line',data:{labels:['Week 1','Week 2','Week 3','Week 4'],datasets:[{label:'Actual Traffic',data:[120,180,250,350],borderColor:'#ff6384',tension:0.1},{label:'Forecasted Traffic',data:[100,110,120,130],borderColor:'#999',borderDash:[5,5],tension:0.1}]},options:{responsive:true,maintainAspectRatio:false,plugins:{title:{display:true,text:'Network Traffic: Actual vs. Forecast'}}}};return createChart(c,co)},
            'telenor_priceWars':(c)=>{const co={type:'line',data:{labels:['2005','2006','2007','2008'],datasets:[{label:'Average Revenue Per User (ARPU)',data:[450,320,210,180],borderColor:'#ff6384',backgroundColor:'rgba(255,99,132,0.5)',fill:true,tension:0.2}]},options:{responsive:true,maintainAspectRatio:false,plugins:{title:{display:true,text:'ARPU Decline During Price Wars'}}}};return createChart(c,co)},
            'telenor_timeline':(c)=>{c.innerHTML=`<svg viewBox="0 0 400 200"><style>.f{font:bold 12px var(--font-family);}.p{animation:p 2s ease-out forwards;}@keyframes p{from{stroke-dashoffset:400;}to{stroke-dashoffset:0;}}</style><text class="f" x="200" y="20" text-anchor="middle">T-Nor Company Timeline</text><path d="M20 100 L 380 100" stroke="#ccc" stroke-width="3"/><path class="p" d="M20 100 L 380 100" stroke="var(--accent-color)" stroke-width="3" stroke-dasharray="400"/><circle cx="50" cy="100" r="8" fill="white" stroke="var(--accent-color)" stroke-width="2"/><text class="f" x="50" y="130" text-anchor="middle">2005<tspan x="50" dy="1.2em">Launch</tspan></text><circle cx="190" cy="100" r="8" fill="white" stroke="var(--accent-color)" stroke-width="2"/><text class="f" x="190" y="70" text-anchor="middle">2007<tspan x="190" dy="1.2em">Price Wars</tspan></text><circle cx="350" cy="100" r="8" fill="white" stroke="var(--accent-color)" stroke-width="2"/><text class="f" x="350" y="130" text-anchor="middle">2014<tspan x="350" dy="1.2em">4G License</tspan></text></svg>`;return c},
            'telenor_loyalty':(c)=>{const co={type:'pie',data:{labels:['Loyal Customers','Multi-SIM Users'],datasets:[{data:[30,70],backgroundColor:['#c9cbcf','#ff9f40']}]},options:{responsive:true,maintainAspectRatio:false,plugins:{title:{display:true,text:'Erosion of Customer Loyalty'}}}};return createChart(c,co)},
            'telenor_prepaidMarket':(c)=>{const co={type:'doughnut',data:{labels:['Prepaid (PAYG)','Postpaid'],datasets:[{data:[95,5],backgroundColor:['#36a2eb','#c9cbcf']}]},options:{responsive:true,maintainAspectRatio:false,plugins:{title:{display:true,text:'Market Segmentation (95% Prepaid)'}}}};return createChart(c,co)},
            'telenor_churn':(c)=>{c.innerHTML=`<svg viewBox="0 0 400 200"><style>.f{font:bold 14px var(--font-family);}.in{animation:fall 2s linear infinite, fadein 2s linear infinite;}@keyframes fall{from{transform:translateY(-20px);}to{transform:translateY(60px);}}.out{animation:fall 2s 1s linear infinite, fadeout 2s 1s linear infinite;}@keyframes fadein{0%{opacity:0;}25%{opacity:1;}75%{opacity:1;}100%{opacity:0;}}@keyframes fadeout{0%{opacity:1;}25%{opacity:1;}75%{opacity:0;}100%{opacity:0;}}</style><path d="M150 50 L 120 150 H 280 L 250 50 H 150z" fill="#ccc"/><text class="f" x="200" y="40" text-anchor="middle">T-Nor</text><path d="M240 150 L 260 180" stroke="#333" stroke-width="2"/><path d="M235 160 L 245 185" stroke="#333" stroke-width="2"/><g fill="var(--accent-color)"><circle class="in" cx="200" cy="80" r="5"/><circle class="in" style="animation-delay:0.5s" cx="180" cy="80" r="5"/><circle class="in" style="animation-delay:1s" cx="220" cy="80" r="5"/></g><g fill="#ff6384"><circle class="out" cx="250" cy="150" r="5"/><circle class="out" style="animation-delay:0.2s" cx="255" cy="155" r="5"/></g><text class="f" x="300" y="180" text-anchor="middle">Churn</text></svg>`;return c},
            'telenor_consultant':(c)=>{c.innerHTML=`<svg viewBox="0 0 400 200"><style>.f{font:bold 14px var(--font-family);}.a{animation:a 1.5s ease-out forwards;}@keyframes a{from{stroke-dashoffset:100;}to{stroke-dashoffset:0;}}</style><g><circle cx="80" cy="100" r="20" fill="#ccc"/><circle cx="100" cy="80" r="20" fill="#ccc"/><circle cx="120" cy="100" r="20" fill="#ccc"/><text class="f" x="100" y="150" text-anchor="middle">Internal Team</text></g><path class="a" d="M150 100 H 250 L 240 90 M 250 100 L 240 110" stroke="var(--accent-color)" stroke-width="4" fill="none" stroke-dasharray="100"/><g><rect x="260" y="75" width="120" height="50" fill="var(--accent-color)"/><text class="f" x="320" y="105" text-anchor="middle" fill="white">Gradient Advisors</text></g></svg>`;return c},
            'context_smartPlan': (c) => { c.innerHTML = `<svg viewBox="0 0 400 200"><style>.f{font-family:var(--font-family);font-size:16px;fill:var(--main-text-color);}.l{animation:fade-in 1s ease-out forwards;opacity:0;}.w{font-size:14px;}.letter-text{font-size:24px;font-weight:bold;text-anchor:middle;}.word-text{font-style:italic;}@keyframes fade-in{to{opacity:1;}}</style><g class="l" style="animation-delay:0s;"><text class="f letter-text" x="50" y="68">S</text><text class="f w word-text" x="70" y="68">pecific</text></g><g class="l" style="animation-delay:0.2s;"><text class="f letter-text" x="50" y="98">M</text><text class="f w word-text" x="70" y="98">easurable</text></g><g class="l" style="animation-delay:0.4s;"><text class="f letter-text" x="50" y="128">A</text><text class="f w word-text" x="70" y="128">chievable</text></g><g class="l" style="animation-delay:0.6s;"><text class="f letter-text" x="220" y="68">R</text><text class="f w word-text" x="240" y="68">elevant</text></g><g class="l" style="animation-delay:0.8s;"><text class="f letter-text" x="220" y="98">T</text><text class="f w word-text" x="240" y="98">ime-bound</text></g></svg>`; return c;},
            'context_gradientAdvisors':(c)=>{c.innerHTML=`<svg viewBox="0 0 400 200"><style>.f{font:bold 14px var(--font-family);}.s{transform:scale(0);animation:s .5s 1s ease-out forwards;transform-origin:center;}.t{opacity:0;animation:o .5s 1.5s forwards;}@keyframes s{to{transform:scale(1);}}@keyframes o{to{opacity:1;}}</style><g><rect x="50" y="80" width="100" height="40" fill="#ccc" rx="5"/><text class="f" x="100" y="105" text-anchor="middle">T-Nor</text></g><g><rect x="250" y="80" width="100" height="40" fill="var(--accent-color)" rx="5"/><text class="f" fill="white" x="300" y="105" text-anchor="middle">GA</text></g><g class="s"><path d="M165 90 l-10 10 l20 20 l40-40 l-10-10 l-30 30z" fill="limegreen"/></g><text class="f t" x="200" y="160" text-anchor="middle">Key Focal Areas Defined</text></svg>`;return c},
            'remedial_churn': (c) => { c.innerHTML = `<svg viewBox="0 0 400 200"><style>.f{font:bold 14px var(--font-family);}.cust{animation:c 4s linear infinite;}@keyframes c{0%{fill:var(--accent-color);}40%{fill:red;}60%{fill:red;}100%{fill:limegreen;}}.offer{opacity:0;animation:o 4s linear infinite;}@keyframes o{45%{opacity:0;}60%{opacity:1;}100%{opacity:0;}}</style><text class="f" x="200" y="30" text-anchor="middle">Predictive Churn Management</text><circle class="cust" cx="100" cy="100" r="20"/><path class="offer" d="M130 100 L 250 100" stroke="limegreen" stroke-width="3" stroke-dasharray="5 5"/><text class="offer f" fill="limegreen" x="260" y="105">Retention Offer</text><circle class="cust" style="animation-delay: -1s;" cx="200" cy="100" r="20"/><circle class="cust" style="animation-delay: -2s;" cx="300" cy="100" r="20"/></svg>`; return c; },
            'remedial_centricity': (c) => { c.innerHTML = `<svg viewBox="0 0 400 200"><style>.f{font:bold 14px var(--font-family);}.orb{animation:orb 10s linear infinite;transform-origin:200px 100px;}.p2{animation-delay:-3.3s;}.p3{animation-delay:-6.6s;}@keyframes orb{from{transform:rotate(0deg) translateX(100px) rotate(0deg);}to{transform:rotate(360deg) translateX(100px) rotate(-360deg);}}</style><text class="f" x="200" y="30" text-anchor="middle">Customer Centricity</text><path fill="var(--accent-color)" d="M200,90 C180,80 180,120 200,110 C220,120 220,80 200,90 Z"/><g class="orb"><circle fill="#333" r="15"/></g><g class="orb p2"><circle fill="#333" r="15"/></g><g class="orb p3"><circle fill="#333" r="15"/></g></svg>`; return c; },
            'remedial_network': (c) => { const co={type:'line',data:{labels:['Mon','Tue','Wed','Thu','Fri','Sat','Sun'],datasets:[{label:'Network Uptime (%)',data:[99.98,99.99,99.97,99.99,99.98,99.99,99.99],borderColor:'limegreen',backgroundColor:'rgba(50,205,50,0.2)',fill:true}]},options:{responsive:true,maintainAspectRatio:false,scales:{y:{min:99.95,max:100}},plugins:{title:{display:true,text:'Network Health (Target: 99.99%)'}}}};return createChart(c,co)},
            'remedial_blueprint': (c) => { c.innerHTML = `<svg viewBox="0 0 400 200"><style>.f{font:bold 12px var(--font-family);text-anchor:middle;}.box{fill:rgba(233,233,233,0.8);stroke:#333;stroke-width:1;}.arrow{stroke:var(--accent-color);stroke-width:2;marker-end:url(#arrowhead);animation:flow 2s ease-out forwards;stroke-dasharray:100;stroke-dashoffset:100;}@keyframes flow{to{stroke-dashoffset:0;}}</style><defs><marker id="arrowhead" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse"><path d="M 0 0 L 10 5 L 0 10 z" fill="var(--accent-color)"/></marker></defs><g><rect class="box" x="20" y="30" width="80" height="30" rx="5"/><text class="f" x="60" y="50">DMU / Tech</text></g><g><rect class="box" x="20" y="85" width="80" height="30" rx="5"/><text class="f" x="60" y="105">Budget</text></g><g><rect class="box" x="150" y="57" width="100" height="45" rx="5" fill="var(--accent-color)"/><text class="f" fill="white" x="200" y="85">Blueprint</text></g><g><rect class="box" x="300" y="57" width="80" height="45" rx="5"/><text class="f" x="340" y="80">AI</text><text class="f" x="340" y="95">Interventions</text></g><path class="arrow" d="M100 65 H 150" style="animation-delay:0s;"/><path class="arrow" d="M250 80 H 300" style="animation-delay:1s;"/></svg>`; return c; },
            'remedial_target': (c) => { c.innerHTML = `<svg viewBox="0 0 400 200"><style>.f{font:bold 12px var(--font-family);}.c{stroke-width:8;fill:none;}.c1{stroke:white;}.c2{stroke:#e15451;}.c3{stroke:#5789c1;}.arr{animation:hit 1s ease-out forwards;transform-origin:0 50%;opacity:0;}@keyframes hit{from{transform:translateX(-30px);opacity:0;}to{transform:translateX(0);opacity:1;}}</style><circle class="c c1" cx="200" cy="100" r="60"/><circle class="c c2" cx="200" cy="100" r="40"/><circle class="c c3" cx="200" cy="100" r="20"/><g class="arr" style="animation-delay:0.2s;"><path d="M50 60 H 150" stroke="#333" stroke-width="3"/><text class="f" x="40" y="64" text-anchor="end">Churn</text></g><g class="arr" style="animation-delay:0.4s;"><path d="M50 100 H 170" stroke="#333" stroke-width="3"/><text class="f" x="50" y="104" text-anchor="end">Network</text></g><g class="arr" style="animation-delay:0.6s;"><path d="M50 140 H 150" stroke="#333" stroke-width="3"/><text class="f" x="40" y="144" text-anchor="end">Service</text></g></svg>`; return c; },
            'remedial_netOptimization': (c) => { const co={type:'line',data:{labels:['Day 1','Day 2','Day 3','Day 4','Day 5','Day 6'],datasets:[{label:'Network Performance',data:[98,99,85,97,99,98],borderColor:'rgba(75,192,192,1)',tension:0.4},{label:'Anomaly Detected',type:'scatter',data:[null,null,{x:'Day 3',y:85}],backgroundColor:'red',radius:8},{label:'Maintenance',type:'scatter',data:[null,null,null,{x:'Day 4',y:97}],backgroundColor:'orange',radius:8,pointStyle:'rectRot'}]},options:{responsive:true,maintainAspectRatio:false,plugins:{title:{display:true,text:'AI-Powered Predictive Maintenance'}}}};return createChart(c,co)},
            'remedial_churnPrediction': (c) => { c.innerHTML = `<svg viewBox="0 0 400 200"><style>.f{font:bold 12px var(--font-family);text-anchor:middle;}.cust{transition:fill 0.5s;fill:#ccc;}.at-risk{animation:pulse 1s 1s infinite alternate;}@keyframes pulse{to{fill:red;stroke:red;stroke-width:3;}}</style><text class="f" x="200" y="25">Identifying At-Risk Customers</text><g id="cust-group"><circle id="c1" class="cust" cx="50" cy="100" r="15"/><circle id="c2" class="cust at-risk" cx="100" cy="100" r="15"/><circle id="c3" class="cust" cx="150" cy="100" r="15"/><circle id="c4" class="cust" cx="200" cy="100" r="15"/><circle id="c5" class="cust at-risk" cx="250" cy="100" r="15"/><circle id="c6" class="cust" cx="300" cy="100" r="15"/></g><path d="M250 120 l 20 20 l -10 10 l -10 -20z" fill="gold" style="opacity:0;animation:fade-in 1s 2s forwards;"/><text class="f" x="265" y="165" style="opacity:0;animation:fade-in 1s 2s forwards;">Incentive</text></svg>`; return c; },
            'remedial_persMarketing': (c) => { c.innerHTML = `<svg viewBox="0 0 400 200"><style>.f{font:bold 12px var(--font-family);text-anchor:middle;}.line{animation:flow 1s ease-out forwards;stroke-dasharray:50;stroke-dashoffset:50;}@keyframes flow{to{stroke-dashoffset:0;}}</style><g><rect x="40" y="70" width="100" height="60" fill="#ccc" rx="5"/><text class="f" x="90" y="105">User Profile</text></g><path class="line" d="M140 100 H 190" stroke="#333" stroke-width="2"/><g><path d="M200,80 l30,-20 l30,20 l-15,30z" fill="var(--accent-color)"/><text class="f" fill="white" x="230" y="100">AI</text></g><path class="line" d="M260 90 L 300 60" stroke="limegreen" stroke-width="2" style="animation-delay:0.5s"/><rect x="310" y="45" width="60" height="30" fill="limegreen" rx="5" style="opacity:0;animation:fade-in .5s 1s forwards;"/><text class="f" x="340" y="65" fill="white" style="opacity:0;animation:fade-in .5s 1s forwards;">Offer A</text><path class="line" d="M260 110 L 300 140" stroke="orange" stroke-width="2" style="animation-delay:0.7s"/><rect x="310" y="125" width="60" height="30" fill="orange" rx="5" style="opacity:0;animation:fade-in .5s 1.2s forwards;"/><text class="f" x="340" y="145" fill="white" style="opacity:0;animation:fade-in .5s 1.2s forwards;">Offer B</text></svg>`; return c; },
            'remedial_custService': (c) => { c.innerHTML = `<svg viewBox="0 0 400 200"><style>.f{font:bold 12px var(--font-family);text-anchor:middle;}.item{animation:send 2s ease-in-out infinite alternate;}@keyframes send{from{transform:translateX(0)}to{transform:translateX(100px)}}</style><g><circle cx="60" cy="100" r="25" fill="#ccc"/><text class="f" x="60" y="135">Customer</text></g><g><path d="M280 80 h 40 v 40 h -10 l -10 -10 v -20 l -20 0 z" fill="var(--accent-color)"/><circle cx="300" cy="95" r="5" fill="white"/><text class="f" x="300" y="135" fill="var(--accent-color)">Chatbot</text></g><path class="item" d="M100 90 L 120 90 L 120 80 L 130 95 L 120 110 L 120 100 L 100 100 Z" fill="limegreen"/><path class="item" d="M100 90 L 120 90 L 120 80 L 130 95 L 120 110 L 120 100 L 100 100 Z" fill="orange" style="animation-delay:0.5s; animation-direction:alternate-reverse;"/></svg>`; return c; },
            'remedial_marketing': (c) => { c.innerHTML = `<svg viewBox="0 0 400 200"><style>.f{font:bold 14px var(--font-family);}.p{animation:p 3s ease-in-out infinite alternate;}@keyframes p{from{opacity:0.2;}to{opacity:1;}}</style><text class="f" x="200" y="30" text-anchor="middle">AI-Driven Personalized Marketing</text><g><circle cx="80" cy="100" r="25" fill="#ccc"/><text class="f" x="80" y="105" text-anchor="middle">User</text></g><g><path class="p" d="M110 90 L 160 90" stroke="#333" stroke-width="2"/><path class="p" style="animation-delay:0.2s" d="M110 110 L 160 110" stroke="#333" stroke-width="2"/></g><g><path d="M170,80 l30,-20 l30,20 l-15,30z" fill="var(--accent-color)"/><text class="f" fill="white" x="200" y="100" text-anchor="middle">AI</text></g><g><path class="p" style="animation-delay:0.4s" d="M240 100 L 300 100" stroke="limegreen" stroke-width="3"/><rect class="p" style="animation-delay:0.5s" x="310" y="80" width="60" height="40" fill="limegreen" rx="5"/><text class="p f" style="animation-delay:0.5s" fill="white" x="340" y="105" text-anchor="middle">Offer</text></g></svg>`; return c; },
            'remedial_loyalty': (c) => { c.innerHTML = `<svg viewBox="0 0 400 200"><style>.f{font:bold 14px var(--font-family);}.s{transform:scale(0);animation:s 1s .5s ease-out forwards;}@keyframes s{to{transform:scale(1);}}</style><text class="f" x="200" y="30" text-anchor="middle">Customer Loyalty Programs</text><circle cx="120" cy="100" r="25" fill="#ccc"/><g class="s"><path d="M300 100 L 200 100" stroke="var(--accent-color)" stroke-width="4"/><path d="M200 100 l30 -30 l-10 0 l-20 20 l-20-20 l-10 0z" fill="var(--accent-color)"/><text class="f" x="250" y="90" text-anchor="middle">Rewards</text></g></svg>`; return c; },
            'gameplan_coreTeam': (c) => { c.innerHTML = `<svg viewBox="0 0 400 200"><style>.f{font:bold 12px var(--font-family);text-anchor:middle;}.item{animation:pop-in 0.5s ease-out forwards;transform:scale(0);transform-origin:center;}@keyframes pop-in{to{transform:scale(1);}}@keyframes fade-in{to{opacity:1;}}</style><rect x="150" y="80" width="100" height="40" fill="var(--accent-color)" rx="5" class="item" style="animation-delay:1s;"/><text class="f" x="200" y="105" fill="white" style="opacity:0;animation:fade-in 0.5s 1.5s forwards;">Game Plan</text><g class="item" style="animation-delay:0s;"><circle cx="100" cy="60" r="15" fill="#ccc"/></g><g class="item" style="animation-delay:0.2s;"><circle cx="120" cy="140" r="15" fill="#ccc"/></g><g class="item" style="animation-delay:0.4s;"><circle cx="280" cy="60" r="15" fill="#ccc"/></g><g class="item" style="animation-delay:0.6s;"><circle cx="300" cy="140" r="15" fill="#ccc"/></g></svg>`; return c; },
            'gameplan_playbook': (c) => { c.innerHTML = `<svg viewBox="0 0 400 200"><style>.f{font:bold 12px var(--font-family);}.line{animation:fade-in 0.5s forwards;opacity:0;}@keyframes fade-in{to{opacity:1;}}</style><path d="M50 20 L 200 20 L 200 180 L 50 180 Q 60 100 50 20" fill="#f9f9f9" stroke="#333"/><path d="M350 20 L 200 20 L 200 180 L 350 180 Q 340 100 350 20" fill="#f9f9f9" stroke="#333"/><line x1="200" y1="20" x2="200" y2="180" stroke="#ccc"/><text class="f" x="125" y="50" text-anchor="middle">Pitch</text><path class="line" d="M80 60 H 170" stroke="#ccc" style="animation-delay:0.2s"/><text class="f line" x="125" y="80" text-anchor="middle" style="animation-delay:0.4s">Diagnostics</text><path class="line" d="M80 90 H 170" stroke="#ccc" style="animation-delay:0.6s"/><text class="f line" x="125" y="110" text-anchor="middle" style="animation-delay:0.8s">POC</text><path class="line" d="M80 120 H 170" stroke="#ccc" style="animation-delay:1s"/><text class="f line" x="275" y="50" text-anchor="middle" style="animation-delay:1.2s">NDA</text><path class="line" d="M230 60 H 320" stroke="#ccc" style="animation-delay:1.4s"/><text class="f line" x="275" y="80" text-anchor="middle" style="animation-delay:1.6s">Contract</text><path class="line" d="M230 90 H 320" stroke="#ccc" style="animation-delay:1.8s"/></svg>`; return c; },
            'gameplan_pitch': (c) => { c.innerHTML = `<svg viewBox="0 0 400 200"><style>.f{font:bold 16px var(--font-family);text-anchor:middle;}.hand{animation:shake 1s ease-in-out forwards;transform-origin:center;}@keyframes shake{0%{transform:rotate(0)}25%{transform:rotate(-10deg) translateX(-10px)}50%{transform:rotate(10deg) translateX(10px)}75%{transform:rotate(-5deg)}100%{transform:rotate(0)}}</style><text class="f" x="200" y="40">Business Partners</text><g class="hand"><path d="M150 100 l-30 0 v-20 l-20 0 v50 h50z" fill="#ccc"/><text class="f" x="115" y="150">T-Nor</text></g><g class="hand" style="animation-delay:0.1s"><path d="M250 100 l30 0 v-20 l20 0 v50 h-50z" fill="var(--accent-color)"/><text class="f" x="285" y="150">GA</text></g></svg>`; return c; },
            'gameplan_questionnaire': (c) => { c.innerHTML = `<svg viewBox="0 0 400 200"><style>.f{font:bold 12px var(--font-family);text-anchor:middle;}.line{stroke-dasharray:100;stroke-dashoffset:100;animation:flow 1s forwards;}@keyframes flow{to{stroke-dashoffset:0;}}</style><g><rect x="50" y="80" width="80" height="40" fill="#ccc" rx="5"/><text class="f" x="90" y="105">Questionnaire</text></g><g><path class="line" d="M130 90 H 250" stroke="#333" stroke-width="2"/><circle cx="280" cy="60" r="15" fill="var(--accent-color)"/><text class="f" x="280" y="90">C-Level</text></g><g><path class="line" d="M130 110 H 250" stroke="#333" stroke-width="2" style="animation-delay:0.2s"/><circle cx="280" cy="110" r="15" fill="var(--accent-color)"/><text class="f" x="280" y="140">Tech</text></g><g><path class="line" d="M130 100 h 120 l 30 50" stroke="#333" stroke-width="2" style="animation-delay:0.4s"/><circle cx="280" cy="160" r="15" fill="var(--accent-color)"/><text class="f" x="280" y="190">Ops</text></g></svg>`; return c; },
            'gameplan_diagnostics': (c) => { c.innerHTML = `<svg viewBox="0 0 400 200"><style>.mag{animation:scan 2s ease-in-out infinite alternate;}@keyframes scan{from{transform:translateX(-20px) rotate(-10deg);}to{transform:translateX(20px) rotate(10deg);}}@keyframes fade-in{to{opacity:1;}}</style><path d="M150 50 L 250 50 L 250 150 L 150 150 Z" fill="#ccc"/><path d="M180 80 L 220 120 M 180 120 L 220 80" stroke="red" stroke-width="8" style="opacity:0;animation:fade-in 1s 1.5s forwards;"/><g class="mag"><circle cx="150" cy="100" r="40" fill="rgba(173,216,230,0.5)" stroke="var(--accent-color)" stroke-width="4"/><line x1="110" y1="140" x2="80" y2="170" stroke="var(--accent-color)" stroke-width="8"/></g></svg>`; return c; },
            'gameplan_capacity': (c) => { c.innerHTML = `<svg viewBox="0 0 400 200"><style>.f{font:bold 12px var(--font-family);text-anchor:middle;}.bulb{animation:light-up 1s 1s forwards;opacity:0;}@keyframes light-up{to{opacity:1;fill:yellow;}}</style><g><circle cx="100" cy="100" r="20" fill="var(--accent-color)"/><text class="f" x="100" y="135">GA</text></g><path d="M130 100 H 220" stroke="#333" stroke-width="2"/><g><circle cx="250" cy="100" r="15" fill="#ccc"/><circle cx="300" cy="80" r="15" fill="#ccc"/><circle cx="300" cy="120" r="15" fill="#ccc"/><text class="f" x="285" y="150">T-Nor Team</text></g><path class="bulb" d="M285 40 l -10 10 a15,15 0 1,1 0,20 l 10 10 M 285 60 v20" fill="#ccc" stroke="black"/></svg>`; return c; },
            'gameplan_poc': (c) => { const co={type:'bar',data:{labels:['Pilot Project'],datasets:[{label:'Before',data:[25],backgroundColor:'#ff6384'},{label:'After (Impact)',data:[85],backgroundColor:'#4bc0c0'}]},options:{responsive:true,maintainAspectRatio:false,plugins:{title:{display:true,text:'POC / Pilot Project Impact'}}}};return createChart(c,co)},
            'gameplan_nda': (c) => { c.innerHTML = `<svg viewBox="0 0 400 200"><style>.f{font:bold 12px var(--font-family);text-anchor:middle;}.sig{stroke-dasharray:200;stroke-dashoffset:200;animation:sign 1s 0.5s forwards;}@keyframes sign{to{stroke-dashoffset:0;}}@keyframes fade-in{to{opacity:1;}}</style><rect x="100" y="50" width="200" height="100" fill="#f9f9f9" stroke="#333"/><text class="f" x="200" y="80">Non-Disclosure Agreement</text><path class="sig" d="M150 130 C 170 120, 190 140, 210 130 S 240 120, 250 135" stroke="blue" stroke-width="2" fill="none"/><text class="f" fill="red" x="200" y="120" style="opacity:0;animation:fade-in 0.5s 1.5s forwards;transform:rotate(-15deg);font-size:16px;">CONFIDENTIAL</text></svg>`; return c; },
            'gameplan_commercials': (c) => { c.innerHTML = `<svg viewBox="0 0 400 200"><style>.f{font:bold 24px var(--font-family);text-anchor:middle;}.coin{animation:drop 1s ease-out forwards;}@keyframes drop{from{transform:translateY(-100px);opacity:0;}to{transform:translateY(0);opacity:1;}}</style><path d="M150 50 h100 v100 h-100z M150 50 h100 l20 20 h-100z M250 50 v100 l20-20 v-100z" fill="#ccc" stroke="#333"/><circle cx="200" cy="100" r="15" fill="#333"/><g class="coin"><circle cx="200" cy="100" r="30" fill="gold"/><text class="f" x="200" y="110">$</text></g></svg>`; return c; },
            'gameplan_matrix': (c) => { c.innerHTML = `<svg viewBox="0 0 400 200"><style>.f{font:bold 12px var(--font-family);}.cell{animation:check 0.5s forwards;opacity:0;}@keyframes check{to{opacity:1;}}</style><path d="M100 50 h200 v100 h-200z M100 90 h200 M100 120 h200 M200 50 v100" fill="none" stroke="#333"/><text class="f" x="150" y="75">Task 1</text><text class="f" x="150" y="105">Task 2</text><text class="f" x="150" y="135">Task 3</text><text class="f" x="250" y="75">Task A</text><text class="f" x="250" y="105">Task B</text><text class="f" x="250" y="135">Task C</text><text class="f" x="150" y="40">T-Nor</text><text class="f" x="250" y="40">GA</text><path class="cell" d="M140 125 l5 5 l10 -10" stroke="green" stroke-width="3" fill="none" style="animation-delay:0.5s;"/><path class="cell" d="M240 65 l5 5 l10 -10" stroke="green" stroke-width="3" fill="none" style="animation-delay:0.8s;"/><path class="cell" d="M240 95 l5 5 l10 -10" stroke="green" stroke-width="3" fill="none" style="animation-delay:1.1s;"/></svg>`; return c; },
            'gameplan_contract': (c) => { c.innerHTML = `<svg viewBox="0 0 400 200"><style>.f{font:bold 24px var(--font-family);text-anchor:middle;transform-origin:center;}.stamp{animation:stamp 0.5s cubic-bezier(.36,-0.64,.34,1.76) 1s forwards;transform:scale(3);opacity:0;}@keyframes stamp{to{transform:scale(1);opacity:1;}}</style><rect x="100" y="50" width="200" height="100" fill="#f9f9f9" stroke="#333"/><text class="f" x="200" y="90" font-size="14">Contract</text><text class="f" x="200" y="110" font-size="10">Deliverables, Timelines, Costs</text><g class="stamp"><circle cx="200" cy="100" r="40" fill="none" stroke="green" stroke-width="3"/><text class="f" fill="green" font-size="18" x="200" y="108">SIGNED</text></g></svg>`; return c; },
            'gameplan_realization': (c) => { const co={type:'line',data:{labels:['Q1','Q2','Q3 (Deploy)','Q4','Q1'],datasets:[{label:'Efficiency Metric',data:[30,32,35,78,85],borderColor:'limegreen',tension:0.2,fill:true}]},options:{responsive:true,maintainAspectRatio:false,plugins:{title:{display:true,text:'Post-Deployment Affect Realization'}}}};return createChart(c,co)},
            'plan_title_diagram': (c) => { c.innerHTML = `<svg viewBox="0 0 400 200"><style>.f{font-family:var(--font-family); fill:var(--main-text-color); font-size:12px; text-anchor:middle;}.item{opacity:0; animation:pop 0.5s ease-out forwards;}@keyframes pop{from{transform:scale(0)} to{transform:scale(1)}}.line{stroke-dasharray:100;stroke-dashoffset:100;animation:draw 0.5s forwards;}@keyframes draw{to{stroke-dashoffset:0}}</style><g class="item"><path d="M100,80 l30,-20 l30,20 l-15,30z" fill="var(--accent-color)"/><text class="f" x="130" y="125">AI</text></g><path class="line" d="M160 100 H 200" stroke="#333" style="animation-delay:0.5s;"/><g class="item" style="animation-delay:0.8s;"><circle cx="230" cy="100" r="20" fill="#d9534f"/><path d="M230 90 L 250 100 L 230 110" stroke="white" fill="none" stroke-width="2"/><text class="f" x="230" y="135">Mitigate Churn</text></g><g class="item" style="animation-delay:1.1s;"><path d="M130 65 L 200 30 L 270 65" fill="none" stroke="#5cb85c" stroke-width="3"/><text class="f" x="200" y="20">Enhance Competitiveness</text></g></svg>`; return c; },
            'intervention_ml_models': (c) => { c.innerHTML = `<svg viewBox="0 0 400 200"><style>.f{font-family:var(--font-family); text-anchor:middle; font-size:11px;}.item{opacity:0; animation:fade 0.5s forwards;}@keyframes fade{to{opacity:1;}}</style><text class="f item" x="70" y="105">Data</text><path d="M100 100 H 150" stroke="#333" class="item" style="animation-delay:0.2s;"/><g class="item" style="animation-delay:0.5s;"><rect x="150" y="70" width="100" height="60" rx="5" fill="var(--accent-color)"/><text class="f" fill="white" x="200" y="95">ML Models</text><text class="f" fill="white" x="200" y="115" font-size="9">(XGBoost, etc.)</text></g><path d="M250 100 H 300" stroke="#333" class="item" style="animation-delay:0.7s;"/><text class="f item" x="330" y="105" style="animation-delay:1s;">Prediction</text></svg>`; return c; },
            'intervention_data': (c) => { c.innerHTML = `<svg viewBox="0 0 400 200"><style>.f{font:bold 11px var(--font-family);text-anchor:middle;}.item{opacity:0; animation:pop 0.5s ease-out forwards;}@keyframes pop{from{transform:scale(0)} to{transform:scale(1)}}</style><g class="item"><rect x="40" y="80" width="60" height="40" fill="#ccc" rx="3"/><text class="f" x="70" y="135">CDRs</text></g><g class="item" style="animation-delay:0.2s;"><rect x="120" y="80" width="60" height="40" fill="#ccc" rx="3"/><path d="M130 110 v-20 h 10 v 20 h 10 v-10 h 10 v 10" stroke="var(--accent-color)" fill="none" stroke-width="2"/><text class="f" x="150" y="135">Usage</text></g><g class="item" style="animation-delay:0.4s;"><rect x="220" y="80" width="60" height="40" fill="#ccc" rx="3"/><path d="M230 90 L 270 110 M 270 90 L 230 110" stroke="red" fill="none"/><text class="f" x="250" y="135">Complaints</text></g><g class="item" style="animation-delay:0.6s;"><rect x="300" y="80" width="60" height="40" fill="#ccc" rx="3"/><circle cx="330" cy="100" r="10" fill="var(--accent-color)"/><text class="f" x="330" y="135">Location</text></g></svg>`; return c; },
            'intervention_likelihood': (c) => { c.innerHTML = `<svg viewBox="0 0 400 200"><style>.f{font-family:var(--font-family); font-size:12px;}.gauge{transform:rotate(-90deg); transform-origin:center;}.bg{stroke:#eee;}.fill{stroke:#d9534f; stroke-dasharray:314; stroke-dashoffset:314; animation:fill 1s 0.5s ease-out forwards;}@keyframes fill{to{stroke-dashoffset:80;}}</style><text class="f" x="200" text-anchor="middle" y="40">Churn Likelihood</text><g class="gauge"><circle class="bg" cx="200" cy="100" r="50" stroke-width="20" fill="none"/><circle class="fill" cx="200" cy="100" r="50" stroke-width="20" fill="none"/></g><text class="f" x="200" text-anchor="middle" y="105" font-size="24" font-weight="bold">75%</text></svg>`; return c; },
            'intervention_retention': (c) => { c.innerHTML = `<svg viewBox="0 0 400 200"><style>.f{font:bold 12px var(--font-family);text-anchor:middle;}.cust{animation:move 2s ease-in-out forwards;}@keyframes move{to{transform:translateX(100px);opacity:0;}}.offer{opacity:0; animation:pop 0.5s 1s ease-out forwards;}@keyframes pop{from{transform:scale(0)} to{transform:scale(1)}}</style><g class="cust"><circle cx="100" cy="100" r="20" fill="#d9534f"/><text class="f" x="100" y="135">At-Risk Customer</text></g><g class="offer"><rect x="180" y="80" width="60" height="40" fill="gold" rx="5"/><text class="f" x="210" y="105">Offer!</text></g></svg>`; return c; },
            'intervention_crm': (c) => { c.innerHTML = `<svg viewBox="0 0 400 200"><style>.f{font:bold 12px var(--font-family);text-anchor:middle;}.alert{animation:pulse 1.5s 1s infinite;}@keyframes pulse{50%{opacity:0.3;}}</style><rect x="100" y="50" width="200" height="100" fill="#f0f0f0" stroke="#ccc" rx="5"/><text class="f" x="200" y="70">CRM Dashboard</text><g class="alert"><circle cx="200" cy="105" r="20" fill="#d9534f"/><text class="f" fill="white" x="200" y="110">!</text></g></svg>`; return c; },
            'intervention_maintenance': (c) => { const co={type:'line',data:{labels:['W1','W2','W3','W4','W5','W6'],datasets:[{label:'Health Score',data:[98,99,97,96,95,94],borderColor:'#ccc'},{label:'Predicted Failure',data:[null,null,null,null,null,85],pointBackgroundColor:'red',pointRadius:8,borderColor:'red',borderDash:[5,5]}]},options:{responsive:true,maintainAspectRatio:false,plugins:{title:{display:true,text:'Time-Series Analysis'}}}}; return createChart(c,co);},
            'intervention_anomaly': (c) => { c.innerHTML = `<svg viewBox="0 0 400 200"><style>.node{fill:#ccc;}.anomaly{animation:flash 1s infinite;}@keyframes flash{50%{fill:red;}}</style><path d="M100 100 L 150 150 L 200 100 L 250 150 L 300 100 M150 50 L 175 75 L 225 75 L 250 50" stroke="#ccc" fill="none"/><circle class="node" cx="100" cy="100" r="10"/><circle class="node" cx="150" cy="150" r="10"/><circle class="node" cx="200" cy="100" r="10"/><circle class="node anomaly" cx="250" cy="150" r="10"/><circle class="node" cx="300" cy="100" r="10"/><circle class="node" cx="150" cy="50" r="10"/><circle class="node" cx="250" cy="50" r="10"/></svg>`; return c; },
            'intervention_allocation': (c) => { c.innerHTML = `<svg viewBox="0 0 400 200"><style>.bar{fill:var(--accent-color); transition: height 0.5s;}.spike{animation:spike 2s 1s ease-in-out infinite alternate;}@keyframes spike{to{fill:red;}}</style><rect class="bar" y="100" x="50" width="40" height="50"/><rect class="bar" y="120" x="100" width="40" height="30"/><rect class="bar spike" y="50" x="150" width="40" height="100"/><rect class="bar" y="110" x="200" width="40" height="40"/><rect class="bar" y="120" x="250" width="40" height="30"/><rect class="bar" y="100" x="300" width="40" height="50"/></svg>`; return c; },
            'intervention_downtime': (c) => { const co={type:'bar',data:{labels:['Downtime'],datasets:[{label:'Before AI',data:[100],backgroundColor:'#ff6384'},{label:'After AI',data:[15],backgroundColor:'#4bc0c0'}]},options:{responsive:true,maintainAspectRatio:false,plugins:{title:{display:true,text:'Minimize Network Downtime'}}}}; return createChart(c,co);},
            'intervention_recommendation': (c) => { c.innerHTML = `<svg viewBox="0 0 400 200"><style>.f{font:bold 11px var(--font-family);}.line{stroke-dasharray:100;stroke-dashoffset:100;animation:draw 0.5s 1s forwards;}@keyframes draw{to{stroke-dashoffset:0}}</style><circle cx="80" cy="100" r="20" fill="var(--accent-color)"/><text class="f" x="80" y="135" text-anchor="middle">User</text><rect x="200" y="40" width="50" height="30" fill="#ccc"/><rect x="280" y="85" width="50" height="30" fill="#ccc"/><rect x="200" y="130" width="50" height="30" fill="#ccc"/><path class="line" d="M100 100 L 280 100" stroke="gold" stroke-width="3"/></svg>`; return c; },
            'intervention_bundles': (c) => { c.innerHTML = `<svg viewBox="0 0 400 200"><style>.f{font:bold 11px var(--font-family);text-anchor:middle;}.item{animation:bundle 1s 0.5s ease-in-out forwards;}@keyframes bundle{to{transform:translateX(130px);opacity:0;}}</style><g class="item"><rect x="50" y="40" width="50" height="30" fill="#ccc"/><text class="f" x="75" y="80">Data</text></g><g class="item" style="animation-delay:0.2s"><rect x="50" y="85" width="50" height="30" fill="#ccc"/><text class="f" x="75" y="125">Calls</text></g><g class="item" style="animation-delay:0.4s"><rect x="50" y="130" width="50" height="30" fill="#ccc"/><text class="f" x="75" y="170">SMS</text></g><rect x="200" y="50" width="150" height="100" rx="10" fill="var(--accent-color)" style="opacity:0;animation:pop 0.5s 1.5s forwards;"/><text class="f" fill="white" x="275" y="105" style="opacity:0;animation:pop 0.5s 1.5s forwards;">Targeted Bundle</text></svg>`; return c; },
            'intervention_upsell': (c) => { const co={type:'bar',data:{labels:['ARPU'],datasets:[{label:'Current',data:[250],backgroundColor:'#ccc'},{label:'Potential w/ Up-sell',data:[320],backgroundColor:'var(--accent-color)'}]},options:{responsive:true,maintainAspectRatio:false,plugins:{title:{display:true,text:'Increase ARPU'}}}}; return createChart(c,co);},
            'intervention_campaign': (c) => { const co={type:'line',data:{labels:['W1','W2','W3','W4'],datasets:[{label:'Effectiveness',data:[30,50,65,85],borderColor:'var(--accent-color)',tension:0.2}]},options:{responsive:true,maintainAspectRatio:false,plugins:{title:{display:true,text:'Campaign Effectiveness Tracking'}}}}; return createChart(c,co);},
            'intervention_chatbots': (c) => { c.innerHTML = `<svg viewBox="0 0 400 200"><style>.f{font:bold 11px var(--font-family);text-anchor:middle;}.item{opacity:0; animation:fade 0.5s forwards;}@keyframes fade{to{opacity:1}}</style><path d="M180 80 h40 v40 h-10 l-5-5 v-10 l-5 0z" fill="var(--accent-color)"/><text class="f" x="200" y="140">Chatbot</text><g class="item" style="animation-delay:0.5s;"><rect x="250" y="80" width="80" height="30" fill="#f0f0f0" rx="5"/><text class="f" x="290" y="100">English</text></g><g class="item" style="animation-delay:0.8s;"><rect x="250" y="115" width="80" height="30" fill="#f0f0f0" rx="5"/><text class="f" x="290" y="135">Urdu (اردو)</text></g><g class="item" style="animation-delay:1.1s;"><rect x="250" y="150" width="80" height="30" fill="#f0f0f0" rx="5"/><text class="f" x="290" y="170">Regional</text></g></svg>`; return c; },
            'intervention_automate': (c) => { c.innerHTML = `<svg viewBox="0 0 400 200"><style>.f{font-family:var(--font-family); text-anchor:middle; font-size:11px;}.item{opacity:0; animation:fade 0.5s forwards;}@keyframes fade{to{opacity:1}}</style><g class="item"><rect x="100" y="50" width="200" height="110" fill="#f0f0f0" rx="5"/><text class="f" x="200" y="70" style="font-weight:bold">Automated Tasks</text><text class="f item" x="200" y="95" style="animation-delay:0.5s;">✓ FAQs</text><text class="f item" x="200" y="115" style="animation-delay:0.8s;">✓ Billing</text><text class="f item" x="200" y="135" style="animation-delay:1.1s;">✓ Subscriptions</text></g></svg>`; return c; },
            'intervention_escalation': (c) => { c.innerHTML = `<svg viewBox="0 0 400 200"><style>.f{font-family:var(--font-family); text-anchor:middle; font-size:11px;}.line{stroke-dasharray:100;stroke-dashoffset:100;animation:draw 0.5s 1s forwards;}@keyframes draw{to{stroke-dashoffset:0}}</style><text class="f" x="80" y="105" font-size="24">😠</text><text class="f" x="80" y="135">Negative Sentiment</text><path class="line" d="M120 100 H 220" stroke="red" stroke-width="2"/><circle cx="280" cy="100" r="20" fill="#ccc"/><text class="f" x="280" y="135">Human Agent</text></svg>`; return c; },
            'intervention_trust': (c) => { c.innerHTML = `<svg viewBox="0 0 400 200"><style>.shield{opacity:0; transform:scale(0.5); animation:grow 1s 0.5s forwards; transform-origin:center;}@keyframes grow{to{opacity:1;transform:scale(1);}}</style><text x="200" y="105" text-anchor="middle" font-size="24" font-weight="bold">T-Nor</text><path class="shield" d="M200 50 L 150 80 V 120 C 150 150, 200 170, 200 170 C 200 170, 250 150, 250 120 V 80 Z" fill="rgba(92,184,92,0.5)"/></svg>`; return c; },
            'sustain_training_diagram': (c) => { c.innerHTML = `<svg viewBox="0 0 400 200"><style>.f{font:bold 11px var(--font-family);text-anchor:middle;}.item{opacity:0; animation:fade 0.5s ease-out forwards;}@keyframes fade{to{opacity:1;}}.flow{animation:rotate 8s linear infinite; transform-origin:center;}</style><g class="flow"><path d="M200,40 A 60 60 0 0 1 260,100" fill="none" stroke="#ccc"/><text class="f item" x="250" y="60" style="animation-delay:0.2s;">New Tools</text></g><g class="flow" style="transform:rotate(120deg)"><path d="M200,40 A 60 60 0 0 1 260,100" fill="none" stroke="#ccc"/><text class="f item" transform="rotate(-120)" x="-120" y="145" style="animation-delay:0.5s;">Iterative Training</text></g><g class="flow" style="transform:rotate(240deg)"><path d="M200,40 A 60 60 0 0 1 260,100" fill="none" stroke="#ccc"/><text class="f item" transform="rotate(-240)" x="-130" y="-185" style="animation-delay:0.8s;">Evolving Workflows</text></g></svg>`; return c; },
            'adoption_goal_diagram': (c) => { c.innerHTML = `<svg viewBox="0 0 400 200"><style>.f{font:bold 12px var(--font-family);text-anchor:middle;}.item{opacity:0; animation:pop 0.5s ease-out forwards;}@keyframes pop{from{transform:scale(0)} to{transform:scale(1)}}</style><g class="item" style="animation-delay:0.2s;"><path d="M150 100 l-30 0 v-20 l-20 0 v50 h50z" fill="#ccc"/><text class="f" x="115" y="145">Human</text></g><g class="item" style="animation-delay:0.5s;"><path d="M250 100 h-30 v-20 h-20 v50 h50z" fill="var(--accent-color)"/><text class="f" x="285" y="145">AI</text></g><g class="item" style="animation-delay:0.8s;"><text class="f" x="200" y="70" font-size="16">Collaboration</text><path d="M170 100 L 230 100" stroke-width="3" stroke="#333"/></g></svg>`; return c; },
            'adoption_comms_diagram': (c) => { c.innerHTML = `<svg viewBox="0 0 400 200"><style>.f{font:bold 12px var(--font-family);text-anchor:middle;}.item{opacity:0; animation:fade 0.5s ease-out forwards;}@keyframes fade{to{opacity:1}}</style><g class="item"><circle cx="100" cy="100" r="20" fill="var(--accent-color)"/><rect x="80" y="120" width="40" height="20" fill="var(--accent-color)"/></g><rect x="150" y="50" width="150" height="90" fill="#ccc" class="item" style="animation-delay:0.3s;"/><text class="f item" x="225" y="105" style="animation-delay:0.5s;">Webinars & Q&A</text><g class="item" style="animation-delay:0.8s;"><circle cx="330" cy="80" r="10" fill="#f0f0f0"/><text class="f" x="330" y="110">?</text></g><g class="item" style="animation-delay:1s;"><circle cx="350" cy="120" r="10" fill="#f0f0f0"/><text class="f" x="350" y="145">?</text></g></svg>`; return c; },
            'adoption_message_diagram': (c) => { c.innerHTML = `<svg viewBox="0 0 400 200"><style>.f{font:bold 12px var(--font-family);text-anchor:middle;}.item{opacity:0; animation:pop 0.5s ease-out forwards;}@keyframes pop{from{transform:scale(0)} to{transform:scale(1)}}</style><g class="item"><circle cx="100" cy="100" r="30" fill="rgba(217,83,79,0.2)"/><path d="M80 80 L 120 120 M 120 80 L 80 120" stroke="#d9534f" stroke-width="4"/><circle cx="100" cy="100" r="15" fill="#ccc"/><text class="f" x="100" y="150">No Headcount Cuts</text></g><g class="item" style="animation-delay:0.5s;"><circle cx="300" cy="100" r="30" fill="rgba(92,184,92,0.2)"/><path d="M280 105 L 295 120 L 320 90" stroke="#5cb85c" stroke-width="4" fill="none"/><circle cx="300" cy="100" r="15" fill="#ccc"/><text class="f" x="300" y="150">Enhance Roles</text></g></svg>`; return c; },
            'adoption_groups_diagram': (c) => { c.innerHTML = `<svg viewBox="0 0 400 200"><style>.f{font:bold 10px var(--font-family);text-anchor:middle;}.item{opacity:0; animation:pop 0.5s ease-out forwards;}@keyframes pop{from{transform:scale(0)} to{transform:scale(1)}}.line{stroke-dasharray:100;stroke-dashoffset:100;animation:draw 0.5s forwards;}@keyframes draw{to{stroke-dashoffset:0}}</style><g class="item"><circle cx="200" cy="100" r="35" fill="var(--accent-color)"/><text class="f" fill="white" x="200" y="104">AI Working Group</text></g><path class="line" d="M100 50 L 175 85" stroke="#ccc" style="animation-delay:0.5s;"/><g class="item" style="animation-delay:0.5s;"><circle cx="100" cy="50" r="20" fill="#ccc"/><text class="f" x="100" y="54">Engineers</text></g><path class="line" d="M300 50 L 225 85" stroke="#ccc" style="animation-delay:0.8s;"/><g class="item" style="animation-delay:0.8s;"><circle cx="300" cy="50" r="20" fill="#ccc"/><text class="f" x="300" y="54">Support</text></g><path class="line" d="M100 150 L 175 115" stroke="#ccc" style="animation-delay:1.1s;"/><g class="item" style="animation-delay:1.1s;"><circle cx="100" cy="150" r="20" fill="#ccc"/><text class="f" x="100" y="154">Strategy</text></g><path class="line" d="M300 150 L 225 115" stroke="#ccc" style="animation-delay:1.4s;"/><g class="item" style="animation-delay:1.4s;"><circle cx="300" cy="150" r="20" fill="#ccc"/><text class="f" x="300" y="154">Business</text></g></svg>`; return c; },
            'adoption_tools_diagram': (c) => { c.innerHTML = `<svg viewBox="0 0 400 200"><style>.f{font:bold 12px var(--font-family);text-anchor:middle;}.item{opacity:0; animation:pop 0.5s ease-out forwards;}@keyframes pop{from{transform:scale(0)} to{transform:scale(1)}}</style><g class="item"><rect x="40" y="60" width="100" height="80" fill="#f0f0f0" rx="5"/><path d="M55 80 l5 5 l10 -10 M70 75 h 55 M55 100 l5 5 l10 -10 M70 95 h 55 M55 120 l5 5 l10 -10 M70 115 h 55" stroke="#333" fill="none"/><text class="f" x="90" y="50">Surveys</text></g><g class="item" style="animation-delay:0.3s;"><rect x="150" y="60" width="100" height="80" fill="#f0f0f0" rx="5"/><path d="M175 80 h 50 v 40 h -50 z M200 80 l -10 15 l 10 15" fill="none" stroke="#333" stroke-width="2"/><text class="f" x="200" y="50">Suggestion Boxes</text></g><g class="item" style="animation-delay:0.6s;"><rect x="260" y="60" width="100" height="80" fill="#f0f0f0" rx="5"/><circle cx="310" cy="100" r="10" fill="var(--accent-color)"/><path d="M290 120 a 20 20 0 0 1 40 0" fill="var(--accent-color)"/><text class="f" x="310" y="50">Workshops</text></g></svg>`; return c; },
            'adoption_matrix_diagram': (c) => { c.innerHTML = `<svg viewBox="0 0 400 200"><style>.f{font:bold 12px var(--font-family);text-anchor:middle;}.item{opacity:0; animation:fade 0.5s ease-out forwards;}@keyframes fade{to{opacity:1;}}</style><path d="M50 50 v 120 h 300 v -120 M 150 50 v 120 M 250 50 v 120" stroke="#333" fill="none"/><text class="f item" x="100" y="40">Human-Led</text><text class="f item" x="200" y="40" style="animation-delay:0.2s;">AI-Assisted</text><text class="f item" x="300" y="40" style="animation-delay:0.4s;">Fully Automated</text><circle class="item" cx="100" cy="100" r="15" fill="#ccc" style="animation-delay:0.6s;"/><g class="item" style="animation-delay:0.8s;"><circle cx="200" cy="100" r="15" fill="#ccc"/><circle cx="210" cy="110" r="8" fill="var(--accent-color)"/></g><circle class="item" cx="300" cy="100" r="15" fill="var(--accent-color)" style="animation-delay:1s;"/></svg>`; return c; },
            'adoption_training_pyramid': (c) => { c.innerHTML = `<svg viewBox="0 0 400 200"><style>.f{font:bold 12px var(--font-family);text-anchor:middle;}.item{opacity:0; animation:fade 0.5s ease-out forwards;}@keyframes fade{to{opacity:1;}}</style><path d="M200 30 L 50 170 H 350 Z" fill="#f0f0f0" class="item"/><path d="M100 123 H 300" stroke="#ccc" class="item" style="animation-delay:0.2s;"/><path d="M150 77 H 250" stroke="#ccc" class="item" style="animation-delay:0.4s;"/><text class="f item" x="200" y="150" style="animation-delay:0.6s;">Basic AI Literacy (All Staff)</text><text class="f item" x="200" y="105" style="animation-delay:0.8s;">Role-Specific Workshops</text><text class="f item" x="200" y="60" style="animation-delay:1s;">Advanced Roles (Data Teams)</text></svg>`; return c; },
            'intervention_chatbots': (c) => { c.innerHTML = `<svg viewBox="0 0 400 200"><style>.f{font:bold 11px var(--font-family);text-anchor:middle;}.item{opacity:0; animation:fade 0.5s forwards;}@keyframes fade{to{opacity:1}}</style><path d="M180 80 h40 v40 h-10 l-5-5 v-10 l-5 0z" fill="var(--accent-color)"/><text class="f" x="200" y="140">Chatbot</text><g class="item" style="animation-delay:0.5s;"><rect x="250" y="80" width="80" height="30" fill="#f0f0f0" rx="5"/><text class="f" x="290" y="100">English</text></g><g class="item" style="animation-delay:0.8s;"><rect x="250" y="115" width="80" height="30" fill="#f0f0f0" rx="5"/><text class="f" x="290" y="135">Urdu (اردو)</text></g><g class="item" style="animation-delay:1.1s;"><rect x="250" y="150" width="80" height="30" fill="#f0f0f0" rx="5"/><text class="f" x="290" y="170">Regional</text></g></svg>`; return c; },
            'intervention_adjustments': (c) => { c.innerHTML = `<svg viewBox="0 0 400 200"><style>.f{font-family:var(--font-family); fill:var(--main-text-color); font-size:11px; text-anchor:middle;}.item{opacity:0; animation:fade 0.5s 0.5s forwards;}@keyframes fade{to{opacity:1;}}.line{stroke-dasharray:300; stroke-dashoffset:300; animation:draw 2s 1s ease-in-out forwards;}@keyframes draw{to{stroke-dashoffset:0;}}.switch-bg{fill:#ccc; transition:fill 0.5s;}.switch-btn{fill:white; transform:translateX(0); transition:transform 0.5s;}.switch.on .switch-bg{fill:#5cb85c;}.switch.on .switch-btn{transform:translateX(20px);}.switch{animation:flip 0.5s 3s forwards;}@keyframes flip{to{transform:scale(1);}}</style><text class="f" x="200" y="30" style="font-weight:bold;">Automatic Service Adjustment</text><g class="item"><path d="M100,80 l30,-20 l30,20 l-15,30z" fill="var(--accent-color)"/><text class="f" x="130" y="125">AI Monitor</text></g><path class="line" d="M30 100 H 100 C 120 100, 130 50, 150 50 S 180 150, 200 100 H 370" stroke="#ccc" stroke-width="2" fill="none"/><g class="item" style="animation-delay:2.5s;"><g class="switch"><rect class="switch-bg" x="280" y="80" width="50" height="30" rx="15"/><circle class="switch-btn" cx="295" cy="95" r="12"/></g><text class="f" x="305" y="130">Adjust Service</text></g></svg>`; return c; },
            'adoption_scale_diagram': (c) => { c.innerHTML = `<svg viewBox="0 0 400 200"><style>.f{font:bold 12px var(--font-family);text-anchor:middle;}.item{opacity:0; animation:fade 0.5s ease-out forwards;}@keyframes fade{to{opacity:1;}}.line{stroke-dasharray:100;stroke-dashoffset:100;animation:draw 0.5s forwards;}@keyframes draw{to{stroke-dashoffset:0}}</style><g class="item"><circle cx="80" cy="100" r="25" fill="#ccc"/><text class="f" x="80" y="140">Pilot</text></g><path class="line" d="M115 100 H 180" stroke="#333" style="animation-delay:0.5s;"/><g class="item" style="animation-delay:0.8s;"><rect x="180" y="50" width="180" height="100" rx="5" fill="rgba(0,123,255,0.2)"/><text class="f" x="270" y="105">Full Scale w/ Governance</text></g></svg>`; return c; },
            'adoption_hitl_diagram': (c) => { c.innerHTML = `<svg viewBox="0 0 400 200"><style>.f{font:bold 12px var(--font-family);text-anchor:middle;}.item{opacity:0; animation:fade 0.5s ease-out forwards;}@keyframes fade{to{opacity:1;}}</style><g class="item"><path d="M100 80 h20 v20 h-10 l-5-5 v-10 l-5 0z" fill="var(--accent-color)"/><text class="f" x="110" y="120">AI Suggestion</text></g><g class="item" style="animation-delay:0.5s;"><circle cx="200" cy="100" r="20" fill="#ccc"/><text class="f" x="200" y="135">Human</text></g><path d="M140 100 H 170" stroke="#333"/><path d="M230 100 H 260" stroke="#5cb85c" stroke-width="3"/><g class="item" style="animation-delay:1s;"><path d="M265 90 l 10 10 l -20 10z" fill="#5cb85c"/><text class="f" x="310" y="105">Approval</text></g></svg>`; return c; },
            'sustain_training_diagram': (c) => { c.innerHTML = `<svg viewBox="0 0 400 200"><style>.f{font:bold 11px var(--font-family);text-anchor:middle;}.item{opacity:0; animation:fade 0.5s ease-out forwards;}@keyframes fade{to{opacity:1;}}.flow{animation:rotate 8s linear infinite; transform-origin:center;}</style><g class="flow"><path d="M200,40 A 60 60 0 0 1 260,100" fill="none" stroke="#ccc"/><text class="f item" x="250" y="60" style="animation-delay:0.2s;">New Tools</text></g><g class="flow" style="transform:rotate(120deg)"><path d="M200,40 A 60 60 0 0 1 260,100" fill="none" stroke="#ccc"/><text class="f item" transform="rotate(-120)" x="-120" y="145" style="animation-delay:0.5s;">Iterative Training</text></g><g class="flow" style="transform:rotate(240deg)"><path d="M200,40 A 60 60 0 0 1 260,100" fill="none" stroke="#ccc"/><text class="f item" transform="rotate(-240)" x="-130" y="-185" style="animation-delay:0.8s;">Evolving Workflows</text></g></svg>`; return c; },
            'nextsteps_analyze/': (c) => { 
    c.innerHTML = `<svg viewBox="0 0 400 200">
        <style>
            .f{font-family:var(--font-family); fill:var(--main-text-color); font-size:11px; text-anchor:middle;}
            .item{opacity:0; animation:pop 0.5s ease-out forwards;}
            @keyframes pop{from{transform:scale(0)} to{transform:scale(1)}}
            .line{stroke-dasharray:100; stroke-dashoffset:100; animation:draw 0.5s forwards;}
            @keyframes draw{to{stroke-dashoffset:0}}
        </style>
        <g class="item" style="animation-delay:0.2s;">
            <rect x="40" y="40" width="80" height="50" fill="#ccc" rx="5"/>
            <text class="f" x="80" y="105">Pitch Feedback</text>
        </g>
        <g class="item" style="animation-delay:0.4s;">
            <rect x="40" y="110" width="80" height="50" fill="#ccc" rx="5"/>
            <text class="f" x="80" y="175">Market Research</text>
        </g>
        <path class="line" d="M120 65 H 170" stroke="#333" style="animation-delay:0.6s;"/>
        <path class="line" d="M120 135 H 170" stroke="#333" style="animation-delay:0.8s;"/>
        <g class="item" style="animation-delay:1.0s;">
            <path d="M180,80 l30,-20 l30,20 l-15,30z" fill="var(--accent-color)"/>
            <text class="f" fill="white" x="210" y="100">Analysis</text>
        </g>
        <path class="line" d="M240 100 H 290" stroke="#333" style="animation-delay:1.2s;"/>
        <g class="item" style="animation-delay:1.4s;">
            <rect x="290" y="75" width="80" height="50" fill="#5cb85c" rx="5"/>
            <text class="f" fill="white" x="330" y="105">Insights</text>
        </g>
    </svg>`;
    return c;
},
        'nextsteps_refine': (c) => {
    c.innerHTML = `<svg viewBox="0 0 400 200">
        <style>
            .f{font-family:var(--font-family); fill:var(--main-text-color); font-size:11px; text-anchor:middle;}
            .shape{fill:#ccc; animation:refine 2s 1s ease-in-out forwards;}
            .sparkle{opacity:0; animation:spark 0.5s 3s forwards;}
            @keyframes refine{
                0%{fill:#ccc; d:path("M150 100 L 180 50 L 220 50 L 250 100 L 220 150 L 180 150 Z");}
                100%{fill:var(--accent-color); d:path("M200 40 L 150 100 L 200 160 L 250 100 Z");}
            }
            @keyframes spark{ 0%{opacity:1;transform:scale(1);} 100%{opacity:0;transform:scale(0);} }
        </style>
        <text class="f" x="100" y="105">Rough Concept</text>
        <path class="shape" d="M150 100 L 180 50 L 220 50 L 250 100 L 220 150 L 180 150 Z"/>
        <text class="f" x="300" y="105">Refined Solution</text>
        <path class="sparkle" fill="gold" d="M200 30 l -5 5 l 5 5 l 5 -5z"/>
        <path class="sparkle" style="animation-delay:3.1s;" fill="gold" d="M260 100 l -5 5 l 5 5 l 5 -5z"/>
        <path class="sparkle" style="animation-delay:3.2s;" fill="gold" d="M140 100 l -5 5 l 5 5 l 5 -5z"/>
    </svg>`;
    return c;
},
        'nextsteps_simulation': (c) => {
    c.innerHTML = `<svg viewBox="0 0 400 200">
        <style>
            .f{font-family:var(--font-family); fill:var(--main-text-color); font-size:11px; text-anchor:middle;}
            .item{opacity:0; animation:fade 0.5s ease-out forwards;}
            @keyframes fade{to{opacity:1;}}
        </style>
        <g class="item">
            <circle cx="80" cy="100" r="15" fill="var(--accent-color)"/>
            <circle cx="120" cy="100" r="15" fill="var(--accent-color)"/>
            <text class="f" x="100" y="135">Idea Factory Team</text>
        </g>
        <rect x="200" y="40" width="160" height="120" fill="#333" rx="5" class="item" style="animation-delay:0.3s;"/>
        <text class="f item" fill="white" x="280" y="60" style="animation-delay:0.5s;">Client Simulation</text>
        <g class="item" style="animation-delay:1.0s;">
            <circle cx="280" cy="100" r="20" fill="#ccc"/>
            <text class="f" x="280" y="105" font-size="20">?</text>
            <text class="f" x="280" y="135">Client Questions</text>
        </g>
        <g class="item" style="animation-delay:1.5s;">
            <path d="M150 90 c 20 -30, 80 -30, 100 0" stroke="gold" stroke-width="2" fill="none"/>
            <path d="M140 100 l10-10 h-10z" fill="gold"/>
            <text class="f" x="200" y="55">Answers</text>
        </g>
    </svg>`;
    return c;
},
        'nextsteps_catalog': (c) => {
    c.innerHTML = `<svg viewBox="0 0 400 200">
        <style>
            .f{font-family:var(--font-family); fill:var(--main-text-color); font-size:11px; text-anchor:middle;}
            .page{transform-origin:left; animation:turn 1s ease-out 0.5s forwards;}
            .item{opacity:0; animation:fade 0.5s ease-out forwards;}
            @keyframes turn{from{transform:perspective(500px) rotateY(0deg);} to{transform:perspective(500px) rotateY(-160deg);}}
            @keyframes fade{to{opacity:1;}}
        </style>
        <text class="f" x="200" y="25" style="font-weight:bold;">The Solution Catalog</text>
        <rect x="80" y="40" width="240" height="150" fill="#f0f0f0" rx="5"/>
        <text class="f item" style="animation-delay:1.5s;" x="200" y="70" font-weight="bold">Horizontals</text>
        <text class="f item" style="animation-delay:1.7s;" x="200" y="90">(Churn, NLP, etc.)</text>
        <g class="page">
            <rect x="80" y="40" width="120" height="150" fill="var(--accent-color)" rx="5"/>
            <text class="f item" fill="white" x="140" y="70" font-weight="bold">Verticals</text>
            <text class="f item" fill="white" x="140" y="90">(Telecom)</text>
            <text class="f item" fill="white" x="140" y="110">(Banking)</text>
        </g>
    </svg>`;
    return c;
},
            'adoption_sustain_diagram': (c) => { 
    c.innerHTML = `<svg viewBox="0 0 400 200">
        <style>
            .f{font-family:var(--font-family); fill:var(--main-text-color); font-size:11px; text-anchor:middle;}
            .item{opacity:0; animation:pop 0.5s ease-out forwards;}
            @keyframes pop{from{transform:scale(0)} to{transform:scale(1)}}
            
            /* The path the dot will follow */
            #motion-path { fill: none; stroke: #ccc; stroke-width: 2; }
            
            /* The moving dot */
            .flow-dot {
                fill: var(--accent-color);
                offset-path: path("M200,40 A60,60 0 1,1 199.9,40"); /* Defines the circular motion path */
                animation: move 4s linear infinite;
                opacity: 0;
            }
            @keyframes move {
                0% { motion-offset: 0%; opacity: 1; }
                90% { opacity: 1; }
                100% { motion-offset: 100%; opacity: 0; }
            }
        </style>

        <path id="motion-path" d="M200,40 A60,60 0 1,1 199.9,40"/>
        
        <circle class="flow-dot" r="5"/>

        <g class="item" style="animation-delay:0.2s;">
            <circle cx="200" cy="40" r="15" fill="#f0f0f0"/>
            <text class="f" x="200" y="20">Regular Audits</text>
        </g>
        <g class="item" style="animation-delay:0.5s;">
            <circle cx="120" cy="130" r="15" fill="#f0f0f0"/>
            <text class="f" x="120" y="160">Check for Bias</text>
        </g>
        <g class="item" style="animation-delay:0.8s;">
            <circle cx="280" cy="130" r="15" fill="#f0f0f0"/>
            <text class="f" x="280" y="160">Monitor Job Erosion</text>
        </g>
    </svg>`;
    return c; 
},
            'pilot_tasks_diagram': (c) => { 
    c.innerHTML = `<svg viewBox="0 0 400 200">
        <style>
            .f{font:bold 11px var(--font-family);text-anchor:middle;}
            .node{fill:#ccc;}
            .anomaly{animation:flash 1s infinite;}
            @keyframes flash{50%{fill:red;}}
            .item{opacity:0; animation:fade 0.5s ease-out forwards;}
            @keyframes fade{to{opacity:1;}}
        </style>
        <text class="f item" x="95" y="30">Anomaly Detection</text>
        <g class="item">
            <path d="M50 100 L 75 125 L 100 100 L 125 125 L 150 100 M75 75 L 87.5 87.5 L 112.5 87.5 L 125 75" stroke="#ccc" fill="none"/>
            <circle class="node" cx="50" cy="100" r="8"/><circle class="node" cx="75" cy="125" r="8"/>
            <circle class="node" cx="100" cy="100" r="8"/><circle class="node anomaly" cx="125" cy="125" r="8"/>
            <circle class="node" cx="150" cy="100" r="8"/><circle class="node" cx="75" cy="75" r="8"/>
            <circle class="node" cx="125" cy="75" r="8"/>
        </g>
        <line x1="200" y1="20" x2="200" y2="180" stroke="#eee"/>
        <text class="f item" x="300" y="30" style="animation-delay:0.5s;">Automated Tasks</text>
        <g class="item" style="animation-delay:0.5s;">
            <path d="M280 80 h20 v20 h-10 l-5-5 v-10 l-5 0z" fill="var(--accent-color)"/>
            <text class="f" x="300" y="125">AI</text>
        </g>
        <g class="item" style="animation-delay:1.0s;">
            <text class="f" x="250" y="70">FAQs</text>
            <text class="f" x="350" y="70">Billing</text>
            <text class="f" x="250" y="160">Commands</text>
            <text class="f" x="350" y="160">Subscriptions</text>
        </g>
    </svg>`; 
    return c; 
},
            'adoption_incentives_diagram': (c) => { 
    c.innerHTML = `<svg viewBox="0 0 400 200">
        <style>
            .f{font:bold 12px var(--font-family);text-anchor:middle;}
            .item{opacity:0; animation:pop 0.5s ease-out forwards;}
            @keyframes pop{from{transform:scale(0)} to{transform:scale(1)}}
            .line{stroke-dasharray:100; stroke-dashoffset:100; animation:draw 0.5s forwards;}
            @keyframes draw{to{stroke-dashoffset:0}}
        </style>
        <g class="item">
            <rect x="160" y="80" width="80" height="40" fill="var(--accent-color)" rx="5"/>
            <text class="f" fill="white" x="200" y="105">Upskilling</text>
        </g>
        <path class="line" d="M200 80 L 150 40" stroke="#ccc" style="animation-delay:0.5s;"/>
        <g class="item" style="animation-delay:0.8s;">
            <path d="M150 10 l -15 15 l 15 15 l 15-15z" fill="gold"/>
            <text class="f" x="100" y="30">Badges</text>
        </g>
        <g>
            <path class="line" d="M240 100 H 300" stroke="#ccc" style="animation-delay:1.0s;"/>
            <g class="item" style="animation-delay:1.3s;">
                <path d="M310 80 v10 h-15 v15 h15 v10 l10-17.5z" fill="orange"/>
                <text class="f" x="315" y="130">Promotions</text>
            </g>
        </g>
        <g>
            <path class="line" d="M200 120 L 150 160" stroke="#ccc" style="animation-delay:1.5s;"/>
            <g class="item" style="animation-delay:1.8s;">
                <circle cx="150" cy="180" r="15" fill="limegreen"/>
                <text class="f" x="100" y="185">Bonuses</text>
            </g>
        </g>
    </svg>`; 
    return c; 
},
            'intervention_adjustments': (c) => { 
    c.innerHTML = `<svg viewBox="0 0 400 200">
        <style>
            .f{font-family:var(--font-family); fill:var(--main-text-color); font-size:11px; text-anchor:middle;}
            .item{opacity:0; animation:fade 0.5s 0.5s forwards;}
            @keyframes fade{to{opacity:1;}}
            .line{stroke-dasharray:300; stroke-dashoffset:300; animation:draw 2s 1s ease-in-out forwards;}
            @keyframes draw{to{stroke-dashoffset:0;}}
            .switch-bg{fill:#ccc; transition:fill 0.5s;}
            .switch-btn{fill:white; transform:translateX(0); transition:transform 0.5s;}
            .switch.on .switch-bg{fill:#5cb85c;}
            .switch.on .switch-btn{transform:translateX(20px);}
            .switch{animation:flip 0.5s 3s forwards;}
            @keyframes flip{to{transform:scale(1);}} /* dummy to trigger transition */
        </style>
        <text class="f" x="200" y="30" style="font-weight:bold;">Automatic Service Adjustment</text>
        <g class="item">
            <path d="M100,80 l30,-20 l30,20 l-15,30z" fill="var(--accent-color)"/>
            <text class="f" x="130" y="125">AI Monitor</text>
        </g>
        <path class="line" d="M30 100 H 100 C 120 100, 130 50, 150 50 S 180 150, 200 100 H 370" stroke="#ccc" stroke-width="2" fill="none"/>
        <g class="item" style="animation-delay:2.5s;">
            <g class="switch">
                <rect class="switch-bg" x="280" y="80" width="50" height="30" rx="15"/>
                <circle class="switch-btn" cx="295" cy="95" r="12"/>
            </g>
            <text class="f" x="305" y="130">Adjust Service</text>
        </g>
    </svg>`;
    return c; 
},
            'focal_churn_dashboard': (c) => { 
    c.innerHTML = `<svg viewBox="0 0 400 200">
        <style>
            .f{font-family:var(--font-family); fill:var(--main-text-color);}
            .bg{fill: #f0f0f0; stroke: #ccc; stroke-width:1;}
            .title{font-size:14px; font-weight:bold; text-anchor:middle;}
            .label{font-size:10px;}
            .value{font-size:16px; font-weight:bold; fill: #d9534f;}
            .item{opacity:0; animation:fadeInUp 0.5s ease-out forwards;}
            @keyframes fadeInUp{ from{opacity:0; transform:translateY(15px);} to{opacity:1; transform:translateY(0);} }
        </style>
        <rect class="bg" x="10" y="10" width="380" height="180" rx="10"/>
        <text class="f title" x="200" y="35">Churn Prediction Dashboard</text>
        <path d="M50 80 H 150" stroke="#ccc" stroke-width="15" stroke-linecap="round"/>
        <path id="gauge" d="M50 80 H 125" stroke="#d9534f" stroke-width="15" stroke-linecap="round" style="stroke-dasharray: 100; stroke-dashoffset: 100; animation: drawGauge 1s 0.5s ease-out forwards;"/>
        @keyframes drawGauge{to{stroke-dashoffset: 25;}}
        <text class="f label" x="100" y="65" text-anchor="middle">Predicted Monthly Churn</text>
        <text class="f value" x="100" y="110" text-anchor="middle">7.5%</text>

        <line x1="180" y1="50" x2="180" y2="180" stroke="#ccc"/>
        <text class="f label" x="280" y="65" text-anchor="middle">High-Risk Segments</text>
        <g class="item" style="animation-delay: 1.0s;">
            <rect x="200" y="80" width="160" height="25" fill="#fff"/>
            <text class="f label" x="205" y="96">1. Low Data Usage</text>
        </g>
        <g class="item" style="animation-delay: 1.2s;">
            <rect x="200" y="110" width="160" height="25" fill="#fff"/>
            <text class="f label" x="205" y="126">2. Frequent Call Drops</text>
        </g>
        <g class="item" style="animation-delay: 1.4s;">
            <rect x="200" y="140" width="160" height="25" fill="#fff"/>
            <text class="f label" x="205" y="156">3. Inactive for 15+ Days</text>
        </g>
    </svg>`;
    return c;
},
        'focal_experience_journey': (c) => {
    c.innerHTML = `<svg viewBox="0 0 400 200">
        <style>
            .f{font-family:var(--font-family); fill:var(--main-text-color); font-size:10px; text-anchor:middle;}
            .path{stroke-dasharray:500; stroke-dashoffset:500; animation:drawPath 2s ease-out 0.5s forwards;}
            @keyframes drawPath{to{stroke-dashoffset:0;}}
            .node{opacity:0; animation:popIn 0.5s ease-out forwards;}
            @keyframes popIn{from{transform:scale(0);} to{transform:scale(1);}}
            .face{font-size:14px; animation:changeFace 1s ease-out forwards;}
            @keyframes changeFace{0%{fill:orange;} 100%{fill:green;}}
        </style>
        <path class="path" d="M40 100 C 100 50, 150 150, 200 100 S 300 50, 360 100" stroke="#ccc" stroke-width="2" fill="none"/>
        <g class="node" style="animation-delay:0.8s;">
            <circle cx="40" cy="100" r="15" fill="#fff" stroke="var(--accent-color)" stroke-width="2"/>
            <text class="f face">😐</text><text class="f" y="30">App</text>
        </g>
        <g class="node" transform="translate(125, 93)" style="animation-delay:1.2s;">
            <circle r="15" fill="#fff" stroke="var(--accent-color)" stroke-width="2"/>
            <text class="f face" style="animation-delay:1.2s;">🙂</text><text class="f" y="-20">Store</text>
        </g>
        <g class="node" transform="translate(200, 100)" style="animation-delay:1.6s;">
            <circle r="15" fill="#fff" stroke="var(--accent-color)" stroke-width="2"/>
            <text class="f face" style="animation-delay:1.6s;">😊</text><text class="f" y="30">Call Center</text>
        </g>
        <g class="node" transform="translate(360, 100)" style="animation-delay:2.0s;">
            <circle r="20" fill="gold"/>
            <text class="f" style="font-size:8px; font-weight:bold;">CSAT: 9/10</text>
        </g>
    </svg>`;
    return c;
},
        'focal_network_map': (c) => {
    c.innerHTML = `<svg viewBox="0 0 400 200">
        <style>
            .f{font-family:var(--font-family); fill:var(--main-text-color); font-size:10px;}
            .land{fill:#dcedc8; stroke:#a5d6a7;}
            .tower{fill:green; transition: fill 0.5s;}
            .scanner{opacity:0; animation:scan 3s ease-in-out 0.5s forwards;}
            @keyframes scan{
                0%{opacity:1; transform:translateX(0);} 
                50%{transform:translateX(100px);} 
                100%{opacity:0; transform:translateX(200px);}
            }
            .fault{animation:flash 2s 1.5s infinite;}
            @keyframes flash{50%{fill:gold;}}
            .team{opacity:0; animation:dispatch 2s ease-out 2.5s forwards;}
            @keyframes dispatch{to{opacity:1; transform:translate(120px, -20px);}}
        </style>
        <path class="land" d="M100 20 L 150 10 L 200 40 L 280 30 L 320 80 L 290 150 L 200 180 L 120 160 L 80 100 Z"/>
        <circle class="tower" cx="160" cy="50" r="5"/>
        <circle class="tower fault" id="faulty-tower" cx="240" cy="90" r="5"/>
        <circle class="tower" cx="180" cy="140" r="5"/>
        <circle class="tower" cx="260" cy="150" r="5"/>
        <path class="scanner" d="M150 0 L 130 200" stroke="rgba(0,123,255,0.5)" stroke-width="4"/>
        <g class="team">
            <rect x="50" y="100" width="20" height="15" fill="orange" rx="3"/>
            <text class="f" x="45" y="130">Maint. Team</text>
        </g>
    </svg>`;
    return c;
},
        'focal_marketing_funnel': (c) => {
    c.innerHTML = `<svg viewBox="0 0 400 200">
        <style>
            .f{font-family:var(--font-family); fill:var(--main-text-color); font-size:10px; text-anchor:middle;}
            .item{opacity:0; animation:fadeIn 0.5s forwards;}
            @keyframes fadeIn{to{opacity:1;}}
            .cust{animation:fall 2s linear forwards; fill:#ccc;}
            @keyframes fall{
                from{transform:translateY(0); opacity:1;}
                to{transform:translateY(110px); opacity:0;}
            }
            .filtered{fill:var(--accent-color); animation-delay:0.1s;}
        </style>
        <text class="f item" x="200" y="20">Personalization Funnel</text>
        <path d="M100 30 L 150 160 H 250 L 300 30 Z" fill="#f0f0f0"/>
        
        <circle class="cust" cx="150" cy="40" r="5"/>
        <circle class="cust filtered" cx="175" cy="40" r="5"/>
        <circle class="cust" cx="200" cy="40" r="5"/>
        <circle class="cust filtered" cx="225" cy="40" r="5"/>
        <circle class="cust" cx="250" cy="40" r="5"/>
        
        <g class="item" style="animation-delay:2.2s;">
            <rect x="150" y="165" width="100" height="25" fill="gold" rx="5"/>
            <text class="f" x="200" y="180" style="font-weight:bold;">Targeted Offer</text>
        </g>
    </svg>`;
    return c;
},
        'focal_loyalty_ladder': (c) => {
    c.innerHTML = `<svg viewBox="0 0 400 200">
        <style>
            .f{font-family:var(--font-family); fill:var(--main-text-color); font-size:10px;}
            .step{opacity:0; animation:build 0.5s ease-out forwards;}
            @keyframes build{from{transform:translateY(20px);opacity:0;} to{transform:translateY(0);opacity:1;}}
            .climber{animation:climb 3s ease-in-out 2s forwards;}
            @keyframes climb{
                0%{transform:translate(0,0);} 
                33%{transform:translate(60px,-40px);}
                66%{transform:translate(120px,-80px);}
                100%{transform:translate(180px,-120px);}
            }
        </style>
        <g class="step" style="animation-delay:0.2s;">
            <rect x="50" y="160" width="80" height="20" fill="#cd7f32"/>
            <text class="f" x="70" y="174" fill="white">Bronze</text>
        </g>
        <g class="step" style="animation-delay:0.4s;">
            <rect x="110" y="120" width="80" height="20" fill="#c0c0c0"/>
            <text class="f" x="135" y="134">Silver</text>
        </g>
        <g class="step" style="animation-delay:0.6s;">
            <rect x="170" y="80" width="80" height="20" fill="#ffd700"/>
            <text class="f" x="195" y="94">Gold</text>
        </g>
        <g class="step" style="animation-delay:0.8s;">
            <rect x="230" y="40" width="80" height="20" fill="#e5e4e2"/>
            <text class="f" x="250" y="54">Platinum</text>
        </g>
        <g class="climber">
            <circle cx="80" cy="150" r="8" fill="var(--accent-color)"/>
            <path d="M 80 142 a 10 10 0 0 0 0 -12" fill="none" stroke="var(--accent-color)" stroke-width="2"/>
        </g>
    </svg>`;
    return c;
},
            // CHART: This generator follows the single-line convention as its configuration object is simple.
            'client_history_diagram': (c) => { return createChart(c, {type:'line',data:{labels:['2005 (Launch)','2006','2007 (Price Wars)','2008'],datasets:[{label:'Market Position & Revenue',data:[50,80,45,40],borderColor:'#ff6384',backgroundColor:'rgba(255,99,132,0.2)',fill:true,tension:0.1}]},options:{responsive:true,maintainAspectRatio:false,plugins:{title:{display:true,text:'Initial Success Followed by Price Wars'}}}}); },

// SVG: This generator is formatted for readability, which is best practice for complex SVG/HTML.
            'client_problem_diagram': (c) => { 
    c.innerHTML = `<svg viewBox="0 0 400 200">
        <style>
            .f{font:bold 12px var(--font-family); text-anchor:middle;}
            .item{animation:fade-in 0.5s ease-out forwards; opacity:0;}
            @keyframes fade-in{to{opacity:1;}}
            .arrow{animation:drop 1s ease-in forwards; transform-origin:center;}
            @keyframes drop{from{transform:translateY(-20px);opacity:0;} to{transform:translateY(0);opacity:1;}}
        </style>
        <g class="item">
            <text class="f" x="80" y="60">ARPU</text>
            <path class="arrow" d="M80 70 L 80 140 L 70 130 M 80 140 L 90 130" stroke="red" stroke-width="3" fill="none"/>
        </g>
        <g class="item" style="animation-delay:0.5s;">
            <circle cx="200" cy="100" r="25" fill="#ccc"/>
            <path d="M200 80 L 230 100 L 200 120" stroke="var(--main-text-color)" fill="none" stroke-width="3"/>
            <text class="f" x="200" y="150">Subscriber Churn</text>
        </g>
        <g class="item" style="animation-delay:1s;">
            <rect x="290" y="70" width="80" height="60" rx="5" fill="rgba(255,99,132,0.8)"/>
            <text class="f" fill="white" x="330" y="95">RED</text>
            <text class="f" fill="white" x="330" y="115">FLAG</text>
        </g>
    </svg>`; 
    return c; 
},

// CHART: This generator also follows the single-line convention.
        'client_market_diagram': (c) => { return createChart(c, {type:'doughnut',data:{labels:['Prepaid (PAYG)','Postpaid'],datasets:[{data:[95,5],backgroundColor:['#36a2eb','#c9cbcf'],borderColor:'var(--pane-bg-right)',borderWidth:4}]},options:{responsive:true,maintainAspectRatio:false,plugins:{title:{display:true,text:'Market Context: 95% Prepaid'}}}}); },

// SVG: This more complex SVG is also formatted for best-practice readability.
        'client_need_diagram': (c) => { 
    c.innerHTML = `<svg viewBox="0 0 400 200">
        <style>
            .f{font:bold 12px var(--font-family); text-anchor:middle;}
            .item{animation:fade-in 1s ease-out forwards; opacity:0;}
            @keyframes fade-in{to{opacity:1;}}
            .line{stroke-dasharray: 200; stroke-dashoffset: 200; animation: draw 2s ease-out 1s forwards;}
            @keyframes draw{to{stroke-dashoffset:0;}}
            .risk{animation:pulse 1.5s infinite alternate; fill:red;}
            @keyframes pulse{to{opacity:0.3;}}
        </style>
        <g transform="translate(50, 50)" class="item">
            <circle cx="0" cy="50" r="30" fill="rgba(0,123,255,0.2)"/>
            <circle cx="0" cy="50" r="10" fill="var(--accent-color)"/>
            <path d="M-25 25 L 25 75 M-25 75 L 25 25" stroke="var(--accent-color)" stroke-width="2"/>
            <text class="f" x="0" y="110">Predictability</text>
        </g>
        <path class="line" d="M120 100 C 180 120, 220 60, 280 80 S 350 130, 380 100" stroke="#ccc" stroke-width="3" fill="none"/>
        <path class="line" d="M120 100 C 180 100, 220 100, 380 100" stroke="var(--accent-color)" stroke-width="2" fill="none" stroke-dasharray="5 5" style="animation-delay:1.5s;"/>
        <circle class="risk" cx="255" cy="70" r="8" style="opacity:0; animation-delay:2s;"/>
        <text class="f" x="255" y="60" style="opacity:0; animation:fade-in 1s 2s forwards;">Risk</text>
    </svg>`; 
    return c; 
},
'roadmap_phase1_diagnose': (c) => { 
    c.innerHTML = `<svg viewBox="0 0 400 200">
        <style>
            .f{font-family:var(--font-family); fill:var(--main-text-color); font-size:11px;}
            .item, .line{opacity:0; animation:fade-in 0.5s ease-out forwards;}
            .check{stroke-dasharray:50; stroke-dashoffset:50; animation:draw 0.5s ease-out forwards;}
            @keyframes fade-in{to{opacity:1;}} @keyframes draw{to{stroke-dashoffset:0;}}
        </style>
        <text class="f" x="100" y="30" text-anchor="middle" style="font-weight:bold;">Diagnostic Toolkit</text>
        <rect x="30" y="40" width="140" height="130" fill="#f0f0f0" rx="5" class="item"/>
        <text class="f item" x="40" y="60" style="animation-delay:0.2s;">✓ Churn</text>
        <text class="f item" x="40" y="80" style="animation-delay:0.4s;">✓ Customer Exp.</text>
        <text class="f item" x="40" y="100" style="animation-delay:0.6s;">✓ Network Health</text>
        <text class="f item" x="40" y="120" style="animation-delay:0.8s;">✓ Marketing</text>
        <text class="f item" x="40" y="140" style="animation-delay:1.0s;">✓ Loyalty</text>
        <g class="item" style="animation-delay:1.2s;">
            <path d="M240 70 h80 v80 h-80z M240 90 h80 M240 110 h80 M240 130 h80" fill="#ccc" stroke="#333" stroke-width="0.5"/>
            <text class="f" x="280" y="60" text-anchor="middle">Data Infrastructure</text>
        </g>
        <path class="line" d="M170 105 H 240" stroke="#333" stroke-width="2" style="animation-delay:1.4s;"/>
        <path class="check" d="M260 95 l10 10 l20 -20" stroke="var(--accent-color)" stroke-width="4" fill="none" style="animation-delay:1.6s;"/>
    </svg>`;
    return c;
},
'roadmap_phase2_pilot': (c) => {
    c.innerHTML = `<svg viewBox="0 0 400 200">
        <style>
            .f{font-family:var(--font-family); fill:var(--main-text-color); font-size:11px; text-anchor:middle;}
            .cust{fill:#ccc; animation:flow 2s ease-in-out forwards;}
            .at-risk{fill:red;}
            @keyframes flow{
                from{transform:translateX(0); opacity:1;} 
                to{transform:translateX(140px); opacity:0;}
            }
            .item{opacity:0; animation:pop 1s 2s ease-out forwards;}
            @keyframes pop{from{transform:scale(0)} to{transform:scale(1)}}
        </style>
        <text class="f" x="80" y="40">Pilot Group</text>
        <circle class="cust" cx="80" cy="80" r="8"/>
        <circle class="cust at-risk" cx="60" cy="100" r="8" style="animation-delay:0.1s;"/>
        <circle class="cust" cx="100" cy="100" r="8" style="animation-delay:0.2s;"/>
        <circle class="cust at-risk" cx="80" cy="120" r="8" style="animation-delay:0.3s;"/>
        <rect x="150" y="70" width="100" height="60" fill="var(--accent-color)" rx="5"/>
        <text class="f" x="200" y="105" fill="white" style="font-size:10px;">AI Churn Model</text>
        <g class="item" transform="translate(320, 100)">
            <path d="M0 -30 L -15 -10 H 15 Z" fill="#FFC107"/>
            <rect x="-10" y="-10" width="20" height="25" fill="#FFC107"/>
            <text class="f" y="30">Pilot Success</text>
        </g>
    </svg>`;
    return c;
},
'roadmap_phase3_scale': (c) => {
    c.innerHTML = `<svg viewBox="0 0 400 200">
        <style>
            .f { font-family: var(--font-family); fill: var(--main-text-color); font-size: 11px; text-anchor: middle; }
            
            /* The pilot circle that expands and fades */
            .pilot-group { animation: expand 1.5s ease-out 0.5s forwards; transform-origin: center; }
            @keyframes expand {
                0% { transform: scale(1); opacity: 1; }
                100% { transform: scale(5); opacity: 0; }
            }

            /* The full-scale elements that fade in */
            .full-base { opacity: 0; animation: fadeIn 1s ease-out 1.5s forwards; }
            @keyframes fadeIn { to { opacity: 1; } }

            /* The arrows that draw and fade in */
            .arrow { opacity: 0; animation: fadeIn 1s 2.5s forwards; marker-end: url(#head); }
        </style>
        
        <defs>
            <marker id="head" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse">
                <path d="M 0 0 L 10 5 L 0 10 z" fill="var(--accent-color)"/>
            </marker>
        </defs>

        <g class="pilot-group">
            <circle cx="200" cy="100" r="20" fill="var(--accent-color)" opacity="0.8"/>
            <text class="f" x="200" y="135">Pilot</text>
        </g>
        
        <g class="full-base">
            <rect x="80" y="40" width="240" height="100" rx="10" fill="rgba(0,123,255,0.2)"/>
            <text class="f" x="200" y="85">Full Scale Rollout to</text>
            <text class="f" x="200" y="105" style="font-weight:bold;">Entire Subscriber Base</text>
            
            <path class="arrow" d="M120 140 v 25 h -20"/>
            <text class="f arrow" x="100" y="180">Marketing</text>
            
            <path class="arrow" d="M280 140 v 25 h 20"/>
            <text class="f arrow" x="300" y="180">Retention</text>
        </g>
    </svg>`;
    return c;
},
'roadmap_phase4_sustain': (c) => {
    c.innerHTML = `<svg viewBox="0 0 400 200">
        <style>
            .f{font-family:var(--font-family); fill:var(--main-text-color); font-size:11px; text-anchor:middle;}
            .item{opacity:0; animation:pop 0.5s ease-out forwards;}
            @keyframes pop{from{transform:scale(0)} to{transform:scale(1)}}
            .flow-arrow{transform-origin:center; animation:rotate 8s linear infinite;}
            @keyframes rotate{to{transform:rotate(360deg);}}
        </style>
        <g class="item">
            <circle cx="200" cy="100" r="30" fill="#f0f0f0"/>
            <path d="M190 90 h20 v25 l-20 -5z M195 80 l10-10 l-10 0z" fill="var(--accent-color)"/>
            <text class="f" x="200" y="125" style="font-weight:bold;">T-Nor Team</text>
        </g>
        <g class="flow-arrow">
            <path d="M200,30 A 70 70 0 0 1 270,100" fill="none" stroke="#ccc" stroke-width="2"/>
            <path d="M270,100 L 260 95 L 265 105 Z" fill="#ccc"/>
            <text class="f item" x="255" y="55" style="animation-delay:0.5s;">Manage Models</text>
        </g>
        <g class="flow-arrow" style="transform:rotate(120deg);">
             <path d="M200,30 A 70 70 0 0 1 270,100" fill="none" stroke="#ccc" stroke-width="2"/>
            <path d="M270,100 L 260 95 L 265 105 Z" fill="#ccc"/>
            <text class="f item" transform="rotate(-120)" x="-145" y="155" style="animation-delay:0.8s;">Gather Data</text>
        </g>
         <g class="flow-arrow" style="transform:rotate(240deg);">
             <path d="M200,30 A 70 70 0 0 1 270,100" fill="none" stroke="#ccc" stroke-width="2"/>
            <path d="M270,100 L 260 95 L 265 105 Z" fill="#ccc"/>
            <text class="f item" transform="rotate(-240)" x="-105" y="-195" style="animation-delay:1.1s;">Continuously Optimize</text>
        </g>
    </svg>`;
    return c;
}
        };

        // --- Added: New p5.js background art from NodeBg.html ---
        const p5_sketch = (p) => {
            let nodes = [];
            const numNodes = 300;
            const cursorRadius = 300;
            const neighborRadius = 120;
            const collisionDistance = 10;
            const attractionStrength = 1.0 / 3.0; 
            const wanderStrength = 0.05;

            let blackColor, saturatedBlueColor, greenColor;

            class Node {
                constructor(x, y) {
                    this.position = p.createVector(x, y);
                    this.velocity = p.createVector(0, 0);
                    this.acceleration = p.createVector(0, 0);
                    this.damping = 0.96;
                    this.age = 0;
                    this.maxAge = p.random(500, 900);
                    this.color = p.color(255); 
                }
                applyForce(force) { this.acceleration.add(force); }
                update() {
                    this.velocity.add(this.acceleration);
                    this.position.add(this.velocity);
                    this.acceleration.mult(0);
                    this.velocity.mult(this.damping);
                    this.age++;
                }
                isOld() { return this.age > this.maxAge; }
            }

            p.setup = () => {
                p.createCanvas(p.windowWidth, p.windowHeight);
                blackColor = p.color(100, 100, 100);
                saturatedBlueColor = p.color(0, 170, 255);
                greenColor = p.color(100, 255, 100);

                for (let i = 0; i < numNodes; i++) {
                    nodes.push(new Node(p.random(p.width), p.random(p.height)));
                }
            };

            p.draw = () => {
                p.background(228); 
                let mouseSpeed = p.dist(p.mouseX, p.mouseY, p.pmouseX, p.pmouseY);

                for (let i = 0; i < nodes.length; i++) {
                    let node = nodes[i];
                    node.update();
                    
                    let died = false;
                    if (node.isOld()) {
                        died = true;
                    } else {
                        for (let j = i + 1; j < nodes.length; j++) {
                            if (p.dist(node.position.x, node.position.y, nodes[j].position.x, nodes[j].position.y) < collisionDistance) {
                                died = true;
                                break;
                            }
                        }
                    }
                    
                    if (died) {
                        nodes[i] = new Node(p.random(p.width), p.random(p.height));
                        continue;
                    }
                    
                    let wanderForce = p.constructor.Vector.random2D();
                    wanderForce.setMag(wanderStrength);
                    node.applyForce(wanderForce);

                    let cursorDist = p.dist(p.mouseX, p.mouseY, node.position.x, node.position.y);
                    if (cursorDist < cursorRadius && mouseSpeed > 0.5) {
                        let force = p.constructor.Vector.sub(p.createVector(p.mouseX, p.mouseY), node.position);
                        let magnitude = p.map(mouseSpeed, 1, 60, 0, attractionStrength); 
                        force.setMag(magnitude);
                        node.applyForce(force);
                    }
                    
                    let ageRatio = node.age / node.maxAge;
                    if (ageRatio < 0.5) {
                        let amount = p.map(ageRatio, 0, 0.5, 0, 1);
                        node.color = p.lerpColor(blackColor, saturatedBlueColor, amount);
                    } else {
                        let amount = p.map(ageRatio, 0.5, 1, 0, 1);
                        node.color = p.lerpColor(saturatedBlueColor, greenColor, amount);
                    }
                }

                for (let i = 0; i < nodes.length; i++) {
                    let nodeA = nodes[i];
                    let cursorDist = p.dist(p.mouseX, p.mouseY, nodeA.position.x, nodeA.position.y);

                    if (cursorDist < cursorRadius) {
                        for (let j = i + 1; j < nodes.length; j++) {
                            let nodeB = nodes[j];
                            if (p.dist(nodeA.position.x, nodeA.position.y, nodeB.position.x, nodeB.position.y) < neighborRadius) {
                                let lineColor = p.lerpColor(nodeA.color, nodeB.color, 0.5);
                                let alpha = p.map(cursorDist, 0, cursorRadius, 255, 50);
                                lineColor.setAlpha(alpha);
                                let weight = p.map(p.dist(nodeA.position.x, nodeA.position.y, nodeB.position.x, nodeB.position.y), 0, neighborRadius, 1.5, 0.2);
                                p.stroke(lineColor);
                                p.strokeWeight(weight);
                                p.line(nodeA.position.x, nodeA.position.y, nodeB.position.x, nodeB.position.y);
                            }
                        }
                    }
                }
            };
            
            p.windowResized = () => {
                p.resizeCanvas(p.windowWidth, p.windowHeight);
                nodes = [];
                 for (let i = 0; i < numNodes; i++) {
                    nodes.push(new Node(p.random(p.width), p.random(p.height)));
                }
            };
        };

        function WaveArt(container) {
            const canvas = document.createElement('canvas');
            const ctx = canvas.getContext('2d');
            container.appendChild(canvas);

            let width, height, mouseX, mouseY, animationId, time = 0;
            const resizeCanvas = () => { width = canvas.width = window.innerWidth; height = canvas.height = window.innerHeight; };
            resizeCanvas();
            mouseX = width / 2; mouseY = height / 2;

            const createGradient = (colors, vertical = false) => {
                let gradient = vertical ? ctx.createLinearGradient(0, 0, 0, height) : ctx.createLinearGradient(0, 0, width, 0);
                colors.forEach((color, i) => gradient.addColorStop(i / (colors.length - 1), color));
                return gradient;
            };

            const drawWave = (offsetX, offsetY, phase, colors, amplitude, frequency, opacity, inverted = false) => {
                ctx.save(); ctx.globalAlpha = opacity;
                ctx.beginPath();
                const wavePoints = []; const resolution = 4;
                for (let x = -200; x <= width + 200; x += resolution) {
                    const mouseInfluence = Math.exp(-Math.pow(x - mouseX, 2) / 20000) * (inverted ? (height / 2 - mouseY) : (mouseY - height / 2)) * 0.3;
                    const sign = inverted ? -1 : 1;
                    const baseWave = sign * Math.sin((x + offsetX) * frequency + time * 0.01 + phase) * amplitude;
                    const secondaryWave = sign * Math.sin((x + offsetX) * frequency * 1.5 + time * 0.015 + phase) * amplitude * 0.3;
                    const y = height / 2 + baseWave + secondaryWave + offsetY + mouseInfluence;
                    wavePoints.push({x, y});
                }
                ctx.moveTo(wavePoints[0].x, wavePoints[0].y);
                for (let i = 1; i < wavePoints.length; i++) {
                    const cpx = (wavePoints[i-1].x + wavePoints[i].x) / 2;
                    const cpy = (wavePoints[i-1].y + wavePoints[i].y) / 2;
                    ctx.quadraticCurveTo(wavePoints[i-1].x, wavePoints[i-1].y, cpx, cpy);
                }
                ctx.lineTo(width + 200, inverted ? -200 : height + 200);
                ctx.lineTo(-200, inverted ? -200 : height + 200);
                ctx.closePath();
                ctx.fillStyle = createGradient(colors, inverted);
                ctx.fill(); ctx.restore();
            };

            const animate = () => {
                ctx.fillStyle = 'rgb(220, 220, 220)'; ctx.fillRect(0, 0, width, height);
                time += 1;
                drawWave(time * 0.5, 0, 0, ['rgba(255, 182, 193, 0.8)', 'rgba(255, 105, 180, 0.6)', 'rgba(144, 238, 144, 0.6)', 'rgba(60, 179, 113, 0.4)'], 80, 0.008, 0.7);
                drawWave(time * 0.3, 20, Math.PI, ['rgba(173, 216, 230, 0.8)', 'rgba(150, 209, 255, 0.7)', 'rgba(197, 162, 249, 0.6)', 'rgba(198, 83, 255, 0.4)'], 100, 0.006, 0.6, true);
                drawWave(time * 0.7, -30, Math.PI * 0.5, ['rgba(255, 228, 225, 0.3)', 'rgba(152, 251, 152, 0.3)', 'rgba(230, 230, 250, 0.2)', 'rgba(255, 182, 193, 0.1)'], 60, 0.01, 0.4);
                animationId = requestAnimationFrame(animate);
            };

            const mouseMoveHandler = (e) => { mouseX = e.clientX; mouseY = e.clientY; };
            const touchMoveHandler = (e) => { e.preventDefault(); mouseX = e.touches[0].clientX; mouseY = e.touches[0].clientY; };

            this.start = () => {
                window.addEventListener('resize', resizeCanvas);
                document.body.addEventListener('mousemove', mouseMoveHandler);
                document.body.addEventListener('touchmove', touchMoveHandler);
                animate();
            };

            this.stop = () => {
                if (animationId) cancelAnimationFrame(animationId);
                window.removeEventListener('resize', resizeCanvas);
                document.body.removeEventListener('mousemove', mouseMoveHandler);
                document.body.removeEventListener('touchmove', touchMoveHandler);
            };
        }
        
        // --- Modified function to handle all three background types ---
        function renderPage(pageIndex) {
            // Terminate any active background before switching
            if (p5Sketch) {
                p5Sketch.remove();
                p5Sketch = null;
            }
            if (vanillaWaveArt) {
                vanillaWaveArt.stop();
                vanillaWaveArt = null;
            }
            if (originalAnimationId) {
                cancelAnimationFrame(originalAnimationId);
                originalAnimationId = null;
            }
            // Clear the container
            if (bgContainer) {
                bgContainer.innerHTML = '';
            }
        
            currentPageIndex = pageIndex;
            const pageData = presentationData[pageIndex];
            mainTitle.innerHTML = pageData.title;
            subheadingList.innerHTML = '';
            for (const id in pageData.subheadings) {
                const subheading = pageData.subheadings[id];
                const li = document.createElement('li');
                li.innerHTML = subheading.text;
                li.dataset.subheadingId = id;
                li.dataset.tooltip = subheading.tooltip;
                if(subheading.isCategory){ li.classList.add('subheading-category'); }
                if(subheading.isIndented){ li.classList.add('indented-subheading'); }
                subheadingList.appendChild(li);
            }
            const firstClickable = subheadingList.querySelector('li:not(.subheading-category)');
            if (firstClickable) { firstClickable.click(); }
            
            renderPageSwitcher();

            // Activate the correct background for the new page
            if (currentPageIndex === 3 || currentPageIndex === 4|| currentPageIndex === 6|| currentPageIndex === 7) { // Pages 4 and 5 get Node Art
    p5Sketch = new p5(p5_sketch, bgContainer);
} else if (currentPageIndex === 5 || currentPageIndex === 14) { // Pages 6 and 7 get Wave Art
    vanillaWaveArt = new WaveArt(bgContainer);
    vanillaWaveArt.start();
            } else { // All other pages
                const bgCanvas = document.createElement('canvas');
                const bgCtx = bgCanvas.getContext('2d');
                bgContainer.appendChild(bgCanvas);
                bgCanvas.width = window.innerWidth;
                bgCanvas.height = window.innerHeight;
                window.addEventListener('resize', () => {
                    if (!vanillaWaveArt && !p5Sketch) { // Only resize if it's the original canvas
                        bgCanvas.width = window.innerWidth;
                        bgCanvas.height = window.innerHeight;
                    }
                });
                animateBg(bgCtx, bgCanvas);
            }
        }

        function renderPageSwitcher() {
    pageSwitcher.innerHTML = '';
    presentationData.forEach((page, index) => {
        const dot = document.createElement('div');
        dot.className = 'dot page-dot';
        dot.dataset.pageIndex = index;

        if (index === currentPageIndex) {
            dot.classList.add('active');
        } else if (page.dotColor) {
            // This is the new part: apply the custom color if the dot is not active
            dot.style.backgroundColor = page.dotColor;
        }

        pageSwitcher.appendChild(dot);
    });
}
        
        function renderMedia(subheadingId, contentIndex = 0) {
            currentCharts.forEach(c => c.destroy()); currentCharts = [];
            mediaContainer.innerHTML = ''; mediaContainer.style.flexDirection = 'row';
            
            const subheading = presentationData[currentPageIndex].subheadings[subheadingId];
            if (!subheading || !subheading.content) return;

            const selectedContent = subheading.content[contentIndex];
             if (!selectedContent || selectedContent.type === 'empty') { updateMediaSwitcher(subheadingId, contentIndex); return; }

            const primaryContent = subheading.content.find(item => ['chart','svg','multi-chart', 'info-graphic'].includes(item.type));
            const videoContent = subheading.content.find(item => item.type === 'video' || item.type === 'youtube');

            if (videoContent) {
                let videoElement;
                if(videoContent.type === 'youtube') {
                    videoElement = document.createElement('iframe');
                    videoElement.src = `http://googleusercontent.com/youtube.com/v/${videoContent.videoId}?autoplay=1&mute=1&loop=1&playlist=${videoContent.videoId}&controls=0&showinfo=0&iv_load_policy=3`;
                    videoElement.setAttribute('allow', 'autoplay; encrypted-media; fullscreen');
                    videoElement.setAttribute('allowfullscreen', '');
                } else {
                    videoElement = document.createElement('video');
                    videoElement.src = videoContent.url; videoElement.autoplay = true; videoElement.muted = true; videoElement.loop = true; videoElement.playsInline = true;
                }
                mediaContainer.appendChild(videoElement);
                
                if (primaryContent && mediaGenerators[primaryContent.generator]) {
                    const foregroundElement = mediaGenerators[primaryContent.generator](mediaContainer);
                    if (selectedContent.type !== 'video' && selectedContent.type !== 'youtube') { 
                        videoElement.className = 'video-background'; 
                        if (foregroundElement) foregroundElement.className = ['multi-chart', 'info-graphic'].includes(primaryContent.type) ? '' : 'chart-foreground'; 
                    } else { 
                        videoElement.className = 'video-foreground'; 
                        if (foregroundElement) foregroundElement.className = 'chart-hidden'; 
                    }
                } else { videoElement.className = 'video-foreground'; }
            } else if (primaryContent) {
                 mediaGenerators[primaryContent.generator](mediaContainer);
            }
            updateMediaSwitcher(subheadingId, contentIndex);
        }
        
        function updateMediaSwitcher(subheadingId, activeIndex) {
            mediaSwitcher.innerHTML = '';
            const subheading = presentationData[currentPageIndex].subheadings[subheadingId];
            if (!subheading || !subheading.content || subheading.content[0].type === 'empty' || subheading.content.length <= 1) return;
            subheading.content.forEach((item, index) => { const dot = document.createElement('div'); dot.className = 'dot'; if (index === activeIndex) { dot.classList.add('active'); } dot.dataset.mediaIndex = index; dot.dataset.subheadingId = subheadingId; mediaSwitcher.appendChild(dot); });
        }
        
        subheadingList.addEventListener('click', (e) => { const targetLi = e.target.closest('li'); if (!targetLi || targetLi.classList.contains('subheading-category')) return; document.querySelectorAll('#left-pane li').forEach(li => li.classList.remove('active')); targetLi.classList.add('active'); const subheadingId = targetLi.dataset.subheadingId; renderMedia(subheadingId, 0); });
        pageSwitcher.addEventListener('click', (e) => { const targetDot = e.target.closest('.page-dot'); if (targetDot) { renderPage(parseInt(targetDot.dataset.pageIndex)); } });
        mediaSwitcher.addEventListener('click', (e) => { const targetDot = e.target.closest('.dot'); if (targetDot) { const subheadingId = targetDot.dataset.subheadingId; const mediaIndex = parseInt(targetDot.dataset.mediaIndex); renderMedia(subheadingId, mediaIndex); } });
        subheadingList.addEventListener('mouseover', (e) => { const targetLi = e.target.closest('li'); if(targetLi && !targetLi.classList.contains('subheading-category')) { tooltip.innerHTML = targetLi.getAttribute('data-tooltip'); tooltip.style.display = 'block'; } });
        subheadingList.addEventListener('mousemove', (e) => { const targetLi = e.target.closest('li'); if(targetLi && !targetLi.classList.contains('subheading-category')){ const tooltipHeight = tooltip.offsetHeight; const viewportHeight = window.innerHeight; let topPosition = e.clientY + 15; if (topPosition + tooltipHeight > viewportHeight) { topPosition = e.clientY - tooltipHeight - 15; } tooltip.style.left = `${e.clientX + 15}px`; tooltip.style.top = `${topPosition}px`; } });
        subheadingList.addEventListener('mouseout', (e) => { const targetLi = e.target.closest('li'); if(targetLi){ tooltip.style.display = 'none'; } });
        // --- ADD THIS CODE FOR ARROW KEY NAVIGATION ---
        document.addEventListener('keydown', (e) => {
          if (e.key === 'ArrowRight') {
        const nextPageIndex = (currentPageIndex + 1) % presentationData.length;
        renderPage(nextPageIndex);
         } else if (e.key === 'ArrowLeft') {
        const prevPageIndex = (currentPageIndex - 1 + presentationData.length) % presentationData.length;
        renderPage(prevPageIndex);
         }
});
        // --- Modified function ---
        function init() {
            bgContainer = document.getElementById('background-container'); // Get container
            let _recordedPath = [];
            const recordFn = (e) => _recordedPath.push({x:e.clientX, y:e.clientY});
            window.addEventListener('mousemove', recordFn);
            setInterval(() => processBranchers(), 1000 / 20); 
            setInterval(() => triggerPlayback(_recordedPath), 5000); 
            renderPage(0); // Initial page render
        }
        
        let strokes = []; let branches = []; let brancherPool = [];
        const MARK_LIFETIME = 10000; const BIFURCATION_STEPS = 20;
        function triggerPlayback(path) { if (path.length < 2) { path.length=0; return; } const newStroke = path.map(p => ({ x: p.x, y: p.y, time: Date.now() })); strokes.push(newStroke); path.length = 0; const p1 = newStroke[0]; const p2 = newStroke[1]; let angle = Math.atan2(p2.y - p1.y, p2.x - p1.x); let oppositeAngle = angle + Math.PI; brancherPool.push({ queue: [{ x: p2.x, y: p2.y, angle: oppositeAngle - 0.3, width: 7 * 0.8, step: 0 }, { x: p2.x, y: p2.y, angle: oppositeAngle + 0.3, width: 7 * 0.8, step: 0 }] }); const lastPoint = newStroke[newStroke.length - 1]; const secondLastPoint = newStroke[newStroke.length - 2]; angle = Math.atan2(lastPoint.y - secondLastPoint.y, lastPoint.x - secondLastPoint.x); brancherPool.push({ queue: [{ x: lastPoint.x, y: lastPoint.y, angle: angle - 0.3, width: 7 * 0.8, step: 0 }, { x: lastPoint.x, y: lastPoint.y, angle: angle + 0.3, width: 7 * 0.8, step: 0 }] }); }
        function getDecayColor(creationTime) { const age = Date.now() - creationTime; const life = Math.min(age / MARK_LIFETIME, 1); const startColor = { r: 173, g: 216, b: 230 }; const endColor = { r: 220, g: 205, b: 190 }; const t = life; const r = startColor.r + t * (endColor.r - startColor.r); const g = startColor.g + t * (endColor.g - startColor.g); const b = startColor.b + t * (endColor.b - startColor.b); const alpha = 1 - Math.pow(t, 2); return `rgba(${r}, ${g}, ${b}, ${alpha})`; }
        function processBranchers() { for (let i = brancherPool.length - 1; i >= 0; i--) { const brancher = brancherPool[i]; for (let j = 0; j < 50 && brancher.queue.length > 0; j++) { const task = brancher.queue.shift(); if (task.step >= BIFURCATION_STEPS || task.width < 0.5) continue; const length = Math.random() * 20 + 10; const endX = task.x + Math.cos(task.angle) * length; const endY = task.y + Math.sin(task.angle) * length; branches.push({ x1: task.x, y1: task.y, x2: endX, y2: endY, width: task.width, time: Date.now() }); const nextWidth = task.width * 0.8; brancher.queue.push({ x: endX, y: endY, angle: task.angle - (Math.random() * 0.4 + 0.15), width: nextWidth, step: task.step + 1 }); brancher.queue.push({ x: endX, y: endY, angle: task.angle + (Math.random() * 0.4 + 0.15), width: nextWidth, step: task.step + 1 }); } if (brancher.queue.length === 0) { brancherPool.splice(i, 1); } } }
        
        // --- Modified function ---
        function animateBg(ctx, canvas) { 
            ctx.clearRect(0, 0, canvas.width, canvas.height); 
            const now = Date.now(); 
            for (const stroke of strokes) { for (let i = 1; i < stroke.length; i++) { ctx.beginPath(); ctx.moveTo(stroke[i - 1].x, stroke[i - 1].y); ctx.lineTo(stroke[i].x, stroke[i].y); ctx.lineWidth = 7; ctx.lineCap = 'round'; ctx.strokeStyle = getDecayColor(stroke[i].time); ctx.stroke(); } } for (const branch of branches) { ctx.beginPath(); ctx.moveTo(branch.x1, branch.y1); ctx.lineTo(branch.x2, branch.y2); ctx.lineWidth = branch.width; ctx.lineCap = 'round'; ctx.strokeStyle = getDecayColor(branch.time); ctx.stroke(); } 
            strokes = strokes.map(stroke => stroke.filter(p => now - p.time < MARK_LIFETIME)).filter(stroke => stroke.length > 0); 
            branches = branches.filter(branch => now - branch.time < MARK_LIFETIME); 
            originalAnimationId = requestAnimationFrame(() => animateBg(ctx, canvas)); // Store animation ID
        }
        
        init();
    });
    </script>
</body>
</html>
